(()=>{var e={6231:(e,t,r)=>{"use strict";t.vq=void 0;r(6577);t.vq=e=>({type:"SETUP_STORE",initialState:e})},6577:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TOGGLE_CORRECT_INCORRECT_QUIZ_MODE=t.SHOW_ANSWERS_DURING_QUIZ=t.SET_CORRECT_ANSWERS=t.SETUP_STORE=void 0,t.TOGGLE_CORRECT_INCORRECT_QUIZ_MODE="TOGGLE_CORRECT_INCORRECT_QUIZ_MODE",t.SET_CORRECT_ANSWERS="SET_CORRECT_ANSWERS",t.SHOW_ANSWERS_DURING_QUIZ="SHOW_ANSWERS_DURING_QUIZ",t.SETUP_STORE="SETUP_STORE"},6942:(e,t)=>{var r;!function(){"use strict";var n={}.hasOwnProperty;function o(){for(var e="",t=0;t<arguments.length;t++){var r=arguments[t];r&&(e=i(e,l(r)))}return e}function l(e){if("string"==typeof e||"number"==typeof e)return e;if("object"!=typeof e)return"";if(Array.isArray(e))return o.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var r in e)n.call(e,r)&&e[r]&&(t=i(t,r));return t}function i(e,t){return t?e?e+" "+t:e+t:e}e.exports?(o.default=o,e.exports=o):void 0===(r=function(){return o}.apply(t,[]))||(e.exports=r)}()}},t={};function r(n){var o=t[n];if(void 0!==o)return o.exports;var l=t[n]={exports:{}};return e[n](l,l.exports,r),l.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{"use strict";var e={};r.r(e),r.d(e,{setCorrectAnswers:()=>u,setupStore:()=>c,showAnswersDuringQuiz:()=>m,toggleCorrectIncorrectQuizMode:()=>d});var t={};r.r(t),r.d(t,{displayAnswersDuringQuiz:()=>h,getCorrectAnswers:()=>p,getState:()=>E,isEnabled:()=>g});var n={};r.r(n),r.d(n,{getState:()=>v});const o=window.wp.data,l="TOGGLE_CORRECT_INCORRECT_QUIZ_MODE",i="SET_CORRECT_ANSWERS",a="SHOW_ANSWERS_DURING_QUIZ",s={enabled:!1,questions:{},showAnswersDuringQuiz:!0},c=e=>({type:"SETUP_STORE",initialState:e}),u=e=>({type:i,answers:e}),d=e=>({type:l,mode:e}),m=e=>({type:a,showAnswersDuringQuiz:e});function E(e){return e}function p(e){return e.questions}function g(e){return e.enabled}function h(e){return e.showAnswersDuringQuiz}const w=window.qf.config;var C=r.n(w),f=r(6231);function v(e){var t;const r=C().getInitialPayload();return(0,f.vq)(null!==(t=r.quiz)&&void 0!==t?t:{})}(0,o.registerStore)("quillForms/quiz-editor",{reducer:(e=s,t)=>{switch(t.type){case"SETUP_STORE":return{...e,...t.initialState};case l:return{...e,enabled:!e.enabled};case i:return{...e,questions:t.answers};case a:return{...e,showAnswersDuringQuiz:t.showAnswersDuringQuiz}}return e},actions:e,selectors:t,resolvers:n});const k=window.qf.builderPanels,b=window.React,y=window.qf.adminComponents,S=window.lodash,q=window.emotion;var _=r(6942),z=r.n(_);const x=()=>(0,b.createElement)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,b.createElement)("path",{d:"M12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,b.createElement)("path",{d:"M12 16V12",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,b.createElement)("path",{d:"M12 8H12.01",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})),R=()=>(0,b.createElement)("svg",{viewBox:"0 0 24 24",width:20,height:20,xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",focusable:"false",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},(0,b.createElement)("rect",{x:"3",y:"2",width:"18",height:"20",rx:"3",ry:"3",fill:"none",stroke:"currentColor"}),(0,b.createElement)("rect",{x:"5.5",y:"4",width:"13",height:"5",rx:"1",ry:"1",fill:"none",stroke:"currentColor"}),(0,b.createElement)("circle",{cx:"8",cy:"13",r:"1.2",fill:"none",stroke:"currentColor"}),(0,b.createElement)("circle",{cx:"12",cy:"13",r:"1.2",fill:"none",stroke:"currentColor"}),(0,b.createElement)("circle",{cx:"16",cy:"13",r:"1.2",fill:"none",stroke:"currentColor"}),(0,b.createElement)("circle",{cx:"8",cy:"18",r:"1.2",fill:"none",stroke:"currentColor"}),(0,b.createElement)("circle",{cx:"12",cy:"18",r:"1.2",fill:"none",stroke:"currentColor"}),(0,b.createElement)("circle",{cx:"16",cy:"18",r:"1.2",fill:"none",stroke:"currentColor"})),T=({children:e,type:t="info"})=>(0,b.createElement)("div",{className:`info-box ${t}`},"info"===t?(0,b.createElement)(x,null):(0,b.createElement)(R,null),(0,b.createElement)("span",null,e));(0,k.registerBuilderPanel)("quiz",{title:"Correct/Incorrect Answers",icon:()=>(0,b.createElement)("svg",{viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true",focusable:"false"},(0,b.createElement)("path",{d:"M12 21a9 9 0 1 1 0-18 9 9 0 0 1 0 18z",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,b.createElement)("path",{d:"M12 3v18",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",opacity:"0.6"}),(0,b.createElement)("path",{d:"M5 12L7 14l3-3",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,b.createElement)("path",{d:"M17 11l-3 3m0-3l3 3",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})),mode:"single",areaToShow:"drop-area",render:()=>{const{blocks:e,blockTypes:t,correctAnswers:r,enabled:n,displayAnswersDuringQuiz:l}=(0,o.useSelect)((e=>({blocks:e("quillForms/block-editor").getBlocks(),blockTypes:e("quillForms/blocks").getBlockTypes(),correctAnswers:e("quillForms/quiz-editor").getCorrectAnswers(),enabled:e("quillForms/quiz-editor").isEnabled(),displayAnswersDuringQuiz:e("quillForms/quiz-editor").displayAnswersDuringQuiz()}))),{setCorrectAnswers:i,toggleCorrectIncorrectQuizMode:a,showAnswersDuringQuiz:s}=(0,o.useDispatch)("quillForms/quiz-editor"),{resetAnswers:c}=(0,o.useDispatch)("quillForms/renderer-core");let u=[];return(0,S.forEach)(e,(e=>{const r=e.name;t[r]?.supports.correctAnswers&&u.push(e)})),(0,b.createElement)("div",null,(0,b.createElement)(y.BaseControl,null,(0,b.createElement)(y.ControlWrapper,{orientation:"horizontal"},(0,b.createElement)(y.ControlLabel,{label:"Enable Correct/Incorrect Answers Mode"}),(0,b.createElement)(y.ToggleControl,{checked:n,onChange:()=>{n&&c(),a(!n)}}))),n&&(0,b.createElement)(b.Fragment,null,(0,b.createElement)(y.BaseControl,null,(0,b.createElement)(y.ControlWrapper,{orientation:"horizontal"},(0,b.createElement)(y.ControlLabel,{label:"Display Answers During Quiz"}),(0,b.createElement)(y.ToggleControl,{checked:l,onChange:()=>{c(),s(!l)}}))),(0,b.createElement)(y.BaseControl,null,(0,b.createElement)(y.ControlWrapper,{orientation:"vertical"},(0,b.createElement)(y.ControlLabel,{label:"Useful tags to use"}),(0,b.createElement)("div",{className:"quiz-editor-tags"},(0,b.createElement)("div",{className:"quiz-editor-tag"},(0,b.createElement)("div",{className:"quiz-editor-tag-key"},"{{quiz:correct_answers_count}}"),(0,b.createElement)("div",{className:"quiz-editor-tag-explanation"},"Prints the number of correct answers")),(0,b.createElement)("div",{className:"quiz-editor-tag"},(0,b.createElement)("div",{className:"quiz-editor-tag-key"},"{{quiz:incorrect_answers_count}}"),(0,b.createElement)("div",{className:"quiz-editor-tag-explanation"},"Prints the number of incorrect answers")),(0,b.createElement)("div",{className:"quiz-editor-tag"},(0,b.createElement)("div",{className:"quiz-editor-tag-key"},"{{quiz:summary}}"),(0,b.createElement)("div",{className:"quiz-editor-tag-explanation"},"presents each question along with the answer's correctness, followed by an explanation if available."))),(0,b.createElement)(T,{type:"calculator"},'Assigning points can be done from "Calculator" panel then click on "Points" subpanel.'))),(0,b.createElement)(y.BaseControl,null,(0,b.createElement)(y.ControlWrapper,{orientation:"vertical"},(0,b.createElement)(y.ControlLabel,{label:"Set Correct Answers"}),0===(0,S.size)(u)?(0,b.createElement)(T,{type:"info"},"Please add at least one multiple choice question or a picture choice one"):(0,b.createElement)(b.Fragment,null,u.map((e=>{var n;const o=t[e.name];if(!o.supports.choices)return null;const l=o.getChoices({id:e.id,attributes:null!==(n=e.attributes)&&void 0!==n?n:{}});return(0,b.createElement)("div",{key:e.id,className:"quiz-editor-block"},(0,b.createElement)("div",{className:"quiz-editor-block-header"},(0,b.createElement)(y.BlockIconBox,{icon:o?.icon,color:o?.color}),(0,b.createElement)("div",{className:q.css`
									flex: 1;
									margin-left: 15px;
								`},e.attributes?.label)),(0,b.createElement)("div",{className:"quiz-editor-block-body"},(0,b.createElement)("div",{className:"quiz-editor-block-choice"},(0,b.createElement)("div",{className:"quiz-editor-block-choice-label-wrapper"},"Answer"),(0,b.createElement)("div",null,"Correct?")),l&&l.map(((t,n)=>{const l=t.label,a=t.value;return(0,b.createElement)("div",{key:a,className:"quiz-editor-block-choice"},(0,b.createElement)("div",{className:"quiz-editor-block-choice-label-wrapper"},(0,b.createElement)("div",{className:z()("points-block-choice-label-key",q.css`
															display: flex;
															justify-content: center;
															align-items: center;
															font-size: 11px;
															background: ${o.color};
															min-width: 24px;
                                                            max-width: 24px;
															height: 24px;
															border-radius: 3px;
															color: #fff;
															margin-right: 10px;
														`)},(e=>{const t=[e];let r,n,o,l;for(r=0;r<t.length;)t[r]>25&&(l=Math.floor(t[r]/26),t[r+1]=l-1,t[r]%=26),r+=1;for(n="",o=0;o<t.length;o+=1)n=String.fromCharCode("a".charCodeAt(0)+t[o])+n;return n})(n).toUpperCase()),(0,b.createElement)("div",{className:"points-block-choice-label",dangerouslySetInnerHTML:{__html:l}})),(0,b.createElement)("div",null,(0,b.createElement)(y.ToggleControl,{checked:r?.[e.id]?.correctAnswers?.includes(a),onChange:()=>{var t;const n={...r,[e.id]:{...r?.[e.id],correctAnswers:r?.[e.id]?.correctAnswers?.includes(a)?r?.[e.id]?.correctAnswers?.filter((e=>e!==a)):[...null!==(t=r?.[e.id]?.correctAnswers)&&void 0!==t?t:[],a]}};i(n)}})))})),(0,b.createElement)("div",{className:"quiz-editor-question-explanation"},(0,b.createElement)("div",{className:"quiz-editor-question-explanation-label"},"Explanation"),(0,b.createElement)("div",{className:"quiz-editor-question-explanation-input"},(0,b.createElement)("textarea",{value:r?.[e.id]?.explanation,onChange:t=>{const n={...r,[e.id]:{...r?.[e.id],explanation:t.target.value}};i(n)}})))))})))))))},hasIcon:!0})})(),(window.qf=window.qf||{}).quizEditor={}})();