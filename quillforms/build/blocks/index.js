(()=>{"use strict";var e={d:(t,r)=>{for(var o in r)e.o(r,o)&&!e.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:r[o]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};e.r(t),e.d(t,{blockColors:()=>T,getBlockType:()=>N,registerBlockType:()=>S,sanitizeBlockAttributes:()=>z,sanitizeBlocks:()=>C,setBlockAdminSettings:()=>D,setBlockRendererSettings:()=>_,store:()=>F});var r={};e.r(r),e.d(r,{addBlockTypes:()=>d,setBlockAdminSettings:()=>p,setBlockRendererSettings:()=>u});var o={};e.r(o),e.d(o,{getBlockSupport:()=>h,getBlockType:()=>g,getBlockTypes:()=>m,hasBlockSupport:()=>y});const n=window.wp.data,i=window.lodash,s="SET_BLOCK_RENDERER_SETTINGS",l="SET_BLOCK_ADMIN_SETTINGS",c="ADD_BLOCK_TYPES",a={unknown:{title:"Unknown",supports:{editable:!0,description:!0,attachment:!0,required:!1,logic:!0,placeholder:!1},logicalOperators:["is","is_not","starts_with","greater_than","lower_than","ends_with","contains","not_contains"]}},u=(e,t)=>({type:s,settings:e,name:t}),p=(e,t)=>({type:l,settings:e,name:t}),d=e=>({type:c,blockTypes:(0,i.castArray)(e)}),m=e=>(0,i.reduce)((0,i.sortBy)((0,i.keys)(e),(t=>e[t].order)),((t,r)=>("unknown"!==r&&(t[r]=e[r]),t)),{});function g(e,t){return e[t]}const h=(e,t,r)=>{const o=((e,t)=>"string"==typeof t?g(e,t):t)(e,t);return(0,i.get)(o,["supports",r])};function y(e,t,r){return!!h(e,t,r)}const f=(0,n.createReduxStore)("quillForms/blocks",{actions:r,selectors:o,reducer:(e=a,t)=>{switch(t.type){case l:case s:const{name:r}=t;return e[r]?{...e,[r]:{...e[r],...t.settings}}:e;case c:return{...e,...(0,i.keyBy)(t.blockTypes,"name")}}return e}}),F=f;(0,n.register)(f);const b=window.qf.utils,w=window.React,k=()=>(0,w.createElement)("svg",{height:"512",viewBox:"0 0 24 24",width:"512",xmlns:"http://www.w3.org/2000/svg"},(0,w.createElement)("g",{id:"Layer_2","data-name":"Layer 2"},(0,w.createElement)("path",{d:"m6 22.75h-3a1.752 1.752 0 0 1 -1.75-1.75v-6a1.752 1.752 0 0 1 1.75-1.75h3a1.752 1.752 0 0 1 1.75 1.75v6a1.752 1.752 0 0 1 -1.75 1.75zm-3-8a.25.25 0 0 0 -.25.25v6a.25.25 0 0 0 .25.25h3a.25.25 0 0 0 .25-.25v-6a.25.25 0 0 0 -.25-.25z"}),(0,w.createElement)("path",{d:"m13.5 22.75h-3a1.752 1.752 0 0 1 -1.75-1.75v-12a1.752 1.752 0 0 1 1.75-1.75h3a1.752 1.752 0 0 1 1.75 1.75v12a1.752 1.752 0 0 1 -1.75 1.75zm-3-14a.25.25 0 0 0 -.25.25v12a.25.25 0 0 0 .25.25h3a.25.25 0 0 0 .25-.25v-12a.25.25 0 0 0 -.25-.25z"}),(0,w.createElement)("path",{d:"m21 22.75h-3a1.752 1.752 0 0 1 -1.75-1.75v-16a1.752 1.752 0 0 1 1.75-1.75h3a1.752 1.752 0 0 1 1.75 1.75v16a1.752 1.752 0 0 1 -1.75 1.75zm-3-18a.25.25 0 0 0 -.25.25v16a.25.25 0 0 0 .25.25h3a.25.25 0 0 0 .25-.25v-16a.25.25 0 0 0 -.25-.25z"}))),v=()=>(0,w.createElement)("svg",{fill:"none",height:"800",viewBox:"0 0 24 24",width:"800",xmlns:"http://www.w3.org/2000/svg"},(0,w.createElement)("g",{fill:"#1c274c"},(0,w.createElement)("path",{d:"m21.9998 12.6978c-.0015 1.4696-.0127 2.7187-.0962 3.7436-.0969 1.1894-.2955 2.1832-.74 3.0086-.196.364-.4369.6901-.7302.9834-.8324.8323-1.8929 1.2094-3.2368 1.3901-1.3131.1765-2.9959.1765-5.1432.1765h-.1068c-2.14731 0-3.83014 0-5.14315-.1765-1.34394-.1807-2.40443-.5578-3.23681-1.3901-.73793-.738-1.11901-1.6564-1.32166-2.7958-.19907-1.1192-.23549-2.5117-.24306-4.2409-.00192-.4398-.00192-.905-.00192-1.3958v-.0543c-.00001-2.14731-.00002-3.83014.17651-5.14315.18069-1.34394.55775-2.40443 1.39013-3.23681s1.89287-1.20944 3.23681-1.39013c1.16766-.15699 2.67001-.17436 4.49855-.17627.3853-.00041.698.31212.698.69743 0 .38532-.3128.69753-.6981.69794-1.85441.00196-3.23439.01885-4.31253.1638-1.18921.15989-1.90616.46398-2.43607.99389s-.834 1.24686-.99389 2.43607c-.16258 1.20929-.16406 2.79833-.16406 5.01063 0 .2702 0 .5314.00032.7844l.93129-.8148c.84769-.7418 2.12529-.6992 2.92176.0972l3.99048 3.9905c.6393.6393 1.6456.7264 2.3853.2066l.2774-.195c1.0644-.748 2.5045-.6613 3.4715.209l2.633 2.3697c.265-.5566.4224-1.2879.5064-2.3195.0792-.972.0901-2.1526.0916-3.6302.0004-.3853.3126-.6979.6979-.6979s.6979.3125.6975.6978z"}),(0,w.createElement)("path",{"clip-rule":"evenodd",d:"m17.5 11c-2.1213 0-3.182 0-3.841-.659-.659-.65902-.659-1.71968-.659-3.841s0-3.18198.659-3.84099 1.7197-.65901 3.841-.65901 3.182 0 3.841.65901.659 1.71967.659 3.84099 0 3.18198-.659 3.841c-.659.659-1.7197.659-3.841.659zm2.5303-5.46967c.2929-.29289.2929-.76777 0-1.06066s-.7677-.29289-1.0606 0l-2.4697 2.46967-.4697-.46967c-.2929-.29289-.7677-.29289-1.0606 0s-.2929.76777 0 1.06066l1 1c.2929.29289.7677.29289 1.0606 0z","fill-rule":"evenodd"}))),E=()=>(0,w.createElement)("svg",{fill:"none",height:"800",viewBox:"0 0 24 24",width:"800",xmlns:"http://www.w3.org/2000/svg"},(0,w.createElement)("g",{fill:"#1c274c"},(0,w.createElement)("path",{d:"m19.3517 7.61665-3.9588-3.5629c-1.1278-1.01507-1.6917-1.52261-2.3837-1.78813l-.0092 2.73449c0 2.35702 0 3.53553.7322 4.26776.7323.73223 1.9108.73223 4.2678.73223h3.5801c-.3626-.70422-1.0117-1.28846-2.2284-2.38345z"}),(0,w.createElement)("path",{"clip-rule":"evenodd",d:"m10 22h4c3.7712 0 5.6569 0 6.8284-1.1716 1.1716-1.1715 1.1716-3.0572 1.1716-6.8284v-.4371c0-.8728 0-1.5285-.0426-2.0628h-3.9574-.0949c-1.0971.0001-2.0666.0002-2.8482-.1049-.8471-.1139-1.6941-.3754-2.3853-1.0667-.6913-.69124-.9528-1.53822-1.0667-2.38534-.1051-.78152-.105-1.75109-.1049-2.84819l.0092-2.8344c.0003-.08244.0074-.16398.0208-.24391-.4086-.01666-.8942-.01666-1.5002-.01666-3.79111 0-5.68665 0-6.85823 1.17157-1.17157 1.17158-1.17157 3.05719-1.17157 6.82843v4c0 3.7712 0 5.6569 1.17157 6.8284 1.17158 1.1716 3.05719 1.1716 6.82843 1.1716zm-.98704-9.0472c-.2885-.2704-.73742-.2704-1.02592 0l-2 1.875c-.30218.2833-.31749.758-.03419 1.0602.28329.3021.75792.3175 1.06011.0342l.73704-.691v3.2688c0 .4142.33579.75.75.75s.75-.3358.75-.75v-3.2688l.73704.691c.30216.2833.77686.2679 1.06016-.0342.2833-.3022.2679-.7769-.0342-1.0602z","fill-rule":"evenodd"}))),B=()=>(0,w.createElement)("svg",{fill:"none",height:"800",viewBox:"0 0 24 24",width:"800",xmlns:"http://www.w3.org/2000/svg"},(0,w.createElement)("path",{d:"m8 13.4782v-.6165s0-1.4654 4-1.4654 4 1.4654 4 1.4654v.3883c0 .9564.7227 1.7692 1.7004 1.9125l2 .2931c1.2101.1773 2.2996-.7289 2.2996-1.9127v-2.1246c0-.587-.1838-1.1641-.6297-1.56229-1.1407-1.01869-3.9495-2.85601-9.3703-2.85601-5.74859 0-8.55973 2.58269-9.55917 3.7889-.31613.3815-.44083.8636-.44083 1.3525v1.9229c0 1.298 1.29561 2.2277 2.57997 1.8513l2-.5861c.84332-.2472 1.42003-.999 1.42003-1.8513z",fill:"#1c274c"})),T={"welcome-screen":"#FFD8D8","thankyou-screen":"#FFDFDF",group:"#FBE4D5","partial-submission-point":"#FF9E7E",date:"#E4DFF3",email:"#E4DFF3",dropdown:"#E4DFF3","multiple-choice":"#E4DFF3",statement:"#E4DFF3",website:"#E4DFF3","short-text":"#E4DFF3","long-text":"#E4DFF3","opinion-scale":"#E4DFF3",slider:"#E4DFF3","picture-choice":"#E4DFF3",rating:"#E4DFF3",phone:"#E4DFF3","input-mask":"#E4DFF3",matrix:"#E4DFF3","cal.com":"#E4DFF3",number:"#E4DFF3",file:"#E4DFF3","image-upload":"#E4DFF3",signature:"#E4DFF3","calendar-picker":"#E4DFF3",legal:"#E4DFF3"},D=(e,t)=>{t={title:"Untitled",color:"#333s",icon:"plus",order:20,controls:()=>null,...t},"string"==typeof e?(0,n.select)("quillForms/blocks").getBlockType(e)?("string"!=typeof t.color&&console.error('The "color" property must be a valid string!'),"opinion-scale"===e&&(t.icon=k),"picture-choice"===e&&(t.icon=v),"file"===e&&(t.icon=E),"phone"===e&&(t.icon=B),t.icon=(0,b.normalizeIconObject)(t.icon),(0,b.isValidIcon)(t.icon.src)?!t.logicControl||(0,i.isFunction)(t.logicControl)?!t.entryDetails||(0,i.isFunction)(t.entryDetails)?(0,i.isFunction)(t.controls)?t.order&&isNaN(t.order)?console.error('The "order" property must be a valid number!'):((0,i.isFunction)(t.getChoices)||(t.getChoices=({id:e,attributes:t})=>[]),T[e]&&(t.color=T[e]),(0,n.dispatch)("quillForms/blocks").setBlockAdminSettings((0,i.pick)(t,["controls","entryDetails","logicControl","color","icon","title","order","getChoices"]),e)):console.error('The "controls" property must be a valid function!'):console.error('The "entryDetails" property must be a valid function!'):console.error('The "logicControl" property must be a valid function!'):console.error('The "icon" property must be a valid function!')):console.error(`The ${e} block isn't registered. Please register it first!`):console.error("Block types must be strings.")},_=(e,t)=>{if(t={display:()=>null,...t},"string"==typeof e)if((0,n.select)("quillForms/blocks").getBlockType(e))if((0,i.isFunction)(t.display))if(!t.mergeTag||(0,i.isFunction)(t.mergeTag))if(!t.counterIcon||(0,i.isFunction)(t.counterIcon))if(!t.nextBtn||(0,i.isFunction)(t.nextBtn))if(!t.isConditionFulfilled||(0,i.isFunction)(t.isConditionFulfilled)){if(t.isConditionFulfilled||(t.isConditionFulfilled=(e,t,r)=>{switch(e){case"is":return Array.isArray(r)?r.includes(t):r==t;case"is_not":return Array.isArray(r)?!r.includes(t):r!=t;case"greater_than":return!isNaN(r)&&!isNaN(t)&&parseFloat(r)>parseFloat(t);case"lower_than":return!isNaN(r)&&!isNaN(t)&&parseFloat(r)<parseFloat(t);case"contains":return"string"==typeof r&&"string"==typeof t&&-1!==r.indexOf(t);case"not_contains":return"string"==typeof r&&"string"==typeof t&&-1===r.indexOf(t);case"starts_with":return"string"==typeof r&&"string"==typeof t&&r.startsWith(t);case"ends_with":return"string"==typeof r&&"string"==typeof t&&r.endsWith(t)}return!1}),!t.getNumericVal||(0,i.isFunction)(t.getNumericVal))return t.getNumericVal||(t.getNumericVal=(e,t)=>parseFloat(e)),(0,n.dispatch)("quillForms/blocks").setBlockRendererSettings((0,i.pick)(t,["display","mergeTag","nextBtn","counterIcon","isConditionFulfilled","getNumericVal","displayLayout"]),e),t;console.error('The "getNumericVal" must be a function')}else console.error('The "isConditionFulfilled" property must be a valid function!');else console.error('The "nextBtn" property must be a valid function!');else console.error('The "counterIcon" property must be a valid function!');else console.error('The "mergeTag" property must be a valid function!');else console.error('The "display" property must be a valid function!');else console.error(`The ${e} block isn't registered. Please register it first!`);else console.error("Block types must be strings.")},x=window.wp.hooks,S=(e,t)=>{if("string"!=typeof e)return void console.error("Block names must be strings.");if(t=(0,x.applyFilters)("quillForms.blockTypeSettings",t,e),(0,n.select)("quillForms/blocks").getBlockType(e))return void console.error('Block "'+e+'" is already registered.');t.supports={editable:!0,required:!0,attachment:!0,description:!0,defaultValue:!1,placeholder:!1,logic:!0,logicConditions:!0,innerBlocks:!1,numeric:!1,choices:!1,payments:!1,points:!1,correctAnswers:!1,...t.supports};let{attributes:r}=t;const{supports:o}=t;return r&&(0,i.isPlainObject)(r)||(r={}),o.required&&(r.required={type:"boolean",default:!1}),r.nextBtnLabel={type:["string","boolean"],default:!1},r.classnames={type:"string",default:""},o.placeholder&&(r.placeholder={type:["string","boolean"],default:!1}),o.attachment&&(r.attachment={type:"object",properties:{url:{type:"string"}}}),o.defaultValue&&(r.defaultValue={type:"string",default:""}),o.description&&(r.description={type:"string",default:""}),o.theme&&(r.themeId={type:"number"}),"dropdown"!==e&&"multiple-choice"!==e&&"picture-choice"!==e||(r.randomize={type:"boolean",default:!1}),r.label={type:"string",default:""},r.customHTML={type:"string",default:""},r.layout={type:"string",default:"stack"},r.attachmentFocalPoint={type:"object",default:{x:.5,y:.5}},r.width={type:"string",default:"100%"},r.attachmentFancyBorderRadius={type:"boolean",default:!1},r.attachmentBorderRadius={type:"boolean",default:"0px"},r.attachmentMaxWidth={type:"string",default:"none"},t.attributes=r,(0,n.dispatch)("quillForms/blocks").addBlockTypes({name:e,...(0,i.pick)(t,["attributes","supports","logicalOperators"])}),_(e,t),D(e,t),t};function N(e){return(0,n.select)("quillForms/blocks").getBlockType(e)}function z(e,t){const r=N(e);if(void 0===r)throw new Error(`Block type '${e}' is not registered.`);return(0,i.reduce)(r.attributes,((e,r,o)=>{const n=t[o];return void 0!==n?e[o]=n:r.hasOwnProperty("default")&&(e[o]=r.default),e}),{})}const C=e=>(0,i.isEmpty)(e)?[]:(0,i.map)(e,(e=>N(e.name)?void 0!==e?.innerBlocks&&(0,i.size)(e?.innerBlocks)>0?{...e,attributes:z(e.name,e.attributes?e.attributes:{}),innerBlocks:C(e.innerBlocks)}:{...e,attributes:z(e.name,e.attributes?e.attributes:{})}:{...e,name:"unknown",attributes:z("unknown",e.attributes?e.attributes:{})}));(window.qf=window.qf||{}).blocks=t})();