(()=>{var e={2694:(e,t,i)=>{"use strict";var n=i(6925);function l(){}function o(){}o.resetWarningCache=l,e.exports=function(){function e(e,t,i,l,o,r){if(r!==n){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function t(){return e}e.isRequired=e;var i={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:l};return i.PropTypes=i,i}},5556:(e,t,i)=>{e.exports=i(2694)()},6925:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},23350:(e,t,i)=>{"use strict";var n,l,o=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}();t.ZX=function(e){document.body.classList.add("react-confirm-alert-body-element"),function(){if(!document.getElementById("react-confirm-alert-firm-svg")){var e="http://www.w3.org/2000/svg",t=document.createElementNS(e,"feGaussianBlur");t.setAttribute("stdDeviation","0.3");var i=document.createElementNS(e,"filter");i.setAttribute("id","gaussian-blur"),i.appendChild(t);var n=document.createElementNS(e,"svg");n.setAttribute("id","react-confirm-alert-firm-svg"),n.setAttribute("class","react-confirm-alert-svg"),n.appendChild(i),document.body.appendChild(n)}}(),function(e){var t=document.getElementById("react-confirm-alert");t||(document.body.children[0].classList.add("react-confirm-alert-blur"),(t=document.createElement("div")).id="react-confirm-alert",document.body.appendChild(t)),(0,c.render)(a.default.createElement(f,e),t)}(e)};var r=i(51609),a=u(r),s=u(i(5556)),c=i(75795);function u(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var f=(l=n=function(e){function t(){var e,i,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var l=arguments.length,o=Array(l),r=0;r<l;r++)o[r]=arguments[r];return i=n=d(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),n.handleClickButton=function(e){e.onClick&&e.onClick(),n.close()},n.handleClickOverlay=function(e){var t=n.props,i=t.closeOnClickOutside,l=t.onClickOutside,o=e.target===n.overlay;i&&o&&(l(),n.close())},n.close=function(){var e,t=n.props.afterClose;document.body.classList.remove("react-confirm-alert-body-element"),(e=document.getElementById("react-confirm-alert"))&&((0,c.unmountComponentAtNode)(e),e.parentNode.removeChild(e)),function(e){var t=document.getElementById("react-confirm-alert-firm-svg");t&&t.parentNode.removeChild(t),document.body.children[0].classList.remove("react-confirm-alert-blur"),e()}(t)},n.keyboardClose=function(e){var t=n.props,i=t.closeOnEscape,l=t.onKeypressEscape,o=t.keyCodeForClose,r=e.keyCode,a=27===r;o.includes(r)&&n.close(),i&&a&&(l(e),n.close())},n.componentDidMount=function(){document.addEventListener("keydown",n.keyboardClose,!1)},n.componentWillUnmount=function(){document.removeEventListener("keydown",n.keyboardClose,!1),n.props.willUnmount()},n.renderCustomUI=function(){var e=n.props,t=e.title,i=e.message,l=e.buttons;return(0,e.customUI)({title:t,message:i,buttons:l,onClose:n.close})},d(n,i)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"render",value:function(){var e=this,t=this.props,i=t.title,n=t.message,l=t.buttons,o=t.childrenElement,r=t.customUI,s=t.overlayClassName;return a.default.createElement("div",{className:"react-confirm-alert-overlay "+s,ref:function(t){return e.overlay=t},onClick:this.handleClickOverlay},a.default.createElement("div",{className:"react-confirm-alert"},r?this.renderCustomUI():a.default.createElement("div",{className:"react-confirm-alert-body"},i&&a.default.createElement("h1",null,i),n,o(),a.default.createElement("div",{className:"react-confirm-alert-button-group"},l.map((function(t,i){return a.default.createElement("button",{key:i,onClick:function(){return e.handleClickButton(t)},className:t.className},t.label)}))))))}}]),t}(r.Component),n.propTypes={title:s.default.string,message:s.default.string,buttons:s.default.array.isRequired,childrenElement:s.default.func,customUI:s.default.func,closeOnClickOutside:s.default.bool,closeOnEscape:s.default.bool,keyCodeForClose:s.default.arrayOf(s.default.number),willUnmount:s.default.func,afterClose:s.default.func,onClickOutside:s.default.func,onKeypressEscape:s.default.func,overlayClassName:s.default.string},n.defaultProps={buttons:[{label:"Cancel",onClick:function(){return null},className:null},{label:"Confirm",onClick:function(){return null},className:null}],childrenElement:function(){return null},closeOnClickOutside:!0,closeOnEscape:!0,keyCodeForClose:[],willUnmount:function(){return null},afterClose:function(){return null},onClickOutside:function(){return null},onKeypressEscape:function(){return null}},l)},18663:function(e,t,i){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,i,n){void 0===n&&(n=i);var l=Object.getOwnPropertyDescriptor(t,i);l&&!("get"in l?!t.__esModule:l.writable||l.configurable)||(l={enumerable:!0,get:function(){return t[i]}}),Object.defineProperty(e,n,l)}:function(e,t,i,n){void 0===n&&(n=i),e[n]=t[i]}),l=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)"default"!==i&&Object.prototype.hasOwnProperty.call(e,i)&&n(t,e,i);return l(t,e),t},r=this&&this.__awaiter||function(e,t,i,n){return new(i||(i=Promise))((function(l,o){function r(e){try{s(n.next(e))}catch(e){o(e)}}function a(e){try{s(n.throw(e))}catch(e){o(e)}}function s(e){var t;e.done?l(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}s((n=n.apply(e,t||[])).next())}))},a=this&&this.__asyncValues||function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,i=e[Symbol.asyncIterator];return i?i.call(e):(e="function"==typeof __values?__values(e):e[Symbol.iterator](),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(i){t[i]=e[i]&&function(t){return new Promise((function(n,l){!function(e,t,i,n){Promise.resolve(n).then((function(t){e({value:t,done:i})}),t)}(n,l,(t=e[i](t)).done,t.value)}))}}};Object.defineProperty(t,"__esModule",{value:!0}),t.ReactMultiEmail=void 0;const s=o(i(51609)),c=i(54183);t.ReactMultiEmail=function(e){const{id:t,style:i,className:n="",noClass:l,placeholder:o,autoFocus:u,allowDisplayName:d=!1,stripDisplayName:f=!1,allowDuplicate:m=!1,delimiter:p=`[${d?"":" "},;]`,initialInputValue:v="",inputClassName:y,autoComplete:g,getLabel:_,enable:h,onDisabled:E,validateEmail:b,onChange:C,onChangeInput:w,onFocus:k,onBlur:q,onKeyDown:N,onKeyUp:x,spinner:F,disableOnBlurValidation:T=!1,inputValue:O}=e,S=s.useRef(null),[P,I]=s.useState(!1),[D,B]=s.useState([]),[A,j]=s.useState(""),[R,L]=s.useState(!1),M=s.useCallback(((e,t)=>r(this,void 0,void 0,(function*(){var i,n;const l=[];let o="";const r=new RegExp(p,"g"),a=b||c.isEmail,s=e=>{if(!m)for(let t=0,i=D.length;t<i;t++)if(D[t].toLowerCase()===e.toLowerCase())return!1;return l.push(e),!0};if(""!==e)if(r.test(e)){const t=[...new Set(e.split(r).filter((e=>e)))];for(;t.length;){const l=a(""+t[0].trim());"boolean"==typeof l?l?s(""+(null===(i=t.shift())||void 0===i?void 0:i.trim())):d?a(""+t[0].trim(),{allowDisplayName:d})?s(""+(f?null===(n=t.shift())||void 0===n?void 0:n.split("<")[1].split(">")[0]:t.shift())):1===t.length?o=""+t.shift():t.shift():o=""+t.shift():(L(!0),!0===(yield null==b?void 0:b(e))?(s(""+t.shift()),L(!1)):1===t.length?o=""+t.shift():t.shift())}}else{if(h&&!h({emailCnt:D.length}))return void(null==E||E());if(t){const t=a(e);"boolean"==typeof t?t?s(e):d&&a(e,{allowDisplayName:d})?s(f?e.split("<")[1].split(">")[0]:e):o=e:(L(!0),!0===(yield null==b?void 0:b(e))?s(e):o=e,L(!1))}else o=e}B([...D,...l]),j(o),l.length&&(null==C||C([...D,...l])),O!==o&&(null==w||w(o))}))),[d,m,p,D,h,O,C,w,E,f,b]),V=s.useCallback((e=>r(this,void 0,void 0,(function*(){yield M(e)}))),[M]),U=s.useCallback(((e,t)=>{if(t)return;const i=[...D.slice(0,e),...D.slice(e+1)];B(i),null==C||C(i)}),[D,C]),$=s.useCallback((e=>{switch(null==N||N(e),e.key){case"Enter":e.preventDefault();break;case"Backspace":e.currentTarget.value||U(D.length-1,!1)}}),[D.length,N,U]),z=s.useCallback((e=>r(this,void 0,void 0,(function*(){null==x||x(e),"Enter"===e.key&&(yield M(e.currentTarget.value,!0))}))),[M,x]),W=s.useCallback((e=>r(this,void 0,void 0,(function*(){return yield V(e.currentTarget.value)}))),[V]),K=s.useCallback((e=>r(this,void 0,void 0,(function*(){I(!1),T||(yield M(e.currentTarget.value,!0)),null==q||q()}))),[T,M,q]),Q=s.useCallback((()=>{I(!0),null==k||k()}),[k]);return s.useEffect((()=>{j(v)}),[v]),s.useEffect((()=>{j(null!=O?O:"")}),[O]),s.useEffect((()=>{var t;if(b)(()=>{r(this,void 0,void 0,(function*(){var t,i,n,l,o;L(!0);const r=[];try{for(var s,c=!0,u=a(null!==(o=e.emails)&&void 0!==o?o:[]);!(t=(s=yield u.next()).done);){l=s.value,c=!1;try{const e=l;(yield b(e))&&r.push(e)}finally{c=!0}}}catch(e){i={error:e}}finally{try{c||t||!(n=u.return)||(yield n.call(u))}finally{if(i)throw i.error}}B(r),L(!1)}))})();else{const i=null===(t=e.emails)||void 0===t?void 0:t.filter((e=>(0,c.isEmail)(e)));B(null!=i?i:[])}}),[e.emails,b]),s.createElement("div",{className:`${n} ${l?"":"react-multi-email"} ${P?"focused":""} ${""===A&&0===D.length?"empty":"fill"}`,style:i,onClick:()=>{var e;return null===(e=S.current)||void 0===e?void 0:e.focus()}},R&&(null==F?void 0:F()),o?s.createElement("span",{"data-placeholder":!0},o):null,s.createElement("div",{className:"data-labels",style:{opacity:R?.45:1,display:"contents",flexWrap:"inherit"}},D.map(((e,t)=>_(e,t,U)))),s.createElement("input",{id:t,style:{opacity:R?.45:1},ref:S,type:"text",value:A,onFocus:Q,onBlur:K,onChange:W,onKeyDown:$,onKeyUp:z,autoFocus:u,className:y,autoComplete:g}))}},66251:function(e,t,i){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,i,n){void 0===n&&(n=i);var l=Object.getOwnPropertyDescriptor(t,i);l&&!("get"in l?!t.__esModule:l.writable||l.configurable)||(l={enumerable:!0,get:function(){return t[i]}}),Object.defineProperty(e,n,l)}:function(e,t,i,n){void 0===n&&(n=i),e[n]=t[i]}),l=this&&this.__exportStar||function(e,t){for(var i in e)"default"===i||Object.prototype.hasOwnProperty.call(t,i)||n(t,e,i)};Object.defineProperty(t,"__esModule",{value:!0}),l(i(54183),t),l(i(18663),t)},54183:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isEmail=void 0;const i={requireTld:!0,allowUnderscores:!1,allowTrailingDot:!1},n={allowDisplayName:!1,requireDisplayName:!1,allowUtf8LocalPart:!0,requireTld:!0},l=/^[a-z\d!#\$%&'\*\+\-\/=\?\^_`{\|}~\.\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+[a-z\d!#\$%&'\*\+\-\/=\?\^_`{\|}~\,\.\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF\s]*<(.+)>$/i,o=/^[a-z\d!#\$%&'\*\+\-\/=\?\^_`{\|}~]+$/i,r=/^([\s\x01-\x08\x0b\x0c\x0e-\x1f\x7f\x21\x23-\x5b\x5d-\x7e]|(\\[\x01-\x09\x0b\x0c\x0d-\x7f]))*$/i,a=/^[a-z\d!#\$%&'\*\+\-\/=\?\^_`{\|}~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+$/i,s=/^([\s\x01-\x08\x0b\x0c\x0e-\x1f\x7f\x21\x23-\x5b\x5d-\x7e\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]|(\\[\x01-\x09\x0b\x0c\x0d-\x7f\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))*$/i;function c(e,t){let i,n=0;const l=encodeURI(e).split(/%..|./).length-1;return t&&(n=Number(t.min)||0,i=Number(t.max)),l>=n&&(void 0===i||l<=i)}t.isEmail=function(e,t){if((t=Object.assign(Object.assign({},n),t)).requireDisplayName||t.allowDisplayName){const i=e.match(l);if(i)e=i[1];else if(t.requireDisplayName)return!1}const u=e.split("@"),d=""+u.pop(),f=d.toLowerCase();let m=u.join("@");if("gmail.com"!==f&&"googlemail.com"!==f||(m=m.replace(/\./g,"").toLowerCase()),!c(m,{max:64})||!c(d,{max:254}))return!1;if(!function(e,t){(t=Object.assign(Object.assign({},i),t)).allowTrailingDot&&"."===e[e.length-1]&&(e=e.substring(0,e.length-1));const n=e.split(".");if(t.requireTld){const e=""+n.pop();if(!n.length||!/^([a-z\u00a1-\uffff]{2,}|xn[a-z0-9-]{2,})$/i.test(e))return!1;if(/[\s\u2002-\u200B\u202F\u205F\u3000\uFEFF\uDB40\uDC20]/.test(e))return!1}for(let e,i=0;i<n.length;i++){if(e=n[i],t.allowUnderscores&&(e=e.replace(/_/g,"")),!/^[a-z\u00a1-\uffff0-9-]+$/i.test(e))return!1;if(/[\uff01-\uff5e]/.test(e))return!1;if("-"===e[0]||"-"===e[e.length-1])return!1}return!0}(d,{requireTld:t.requireTld}))return!1;if('"'===m[0])return m=m.slice(1,m.length-1),t.allowUtf8LocalPart?s.test(m):r.test(m);const p=t.allowUtf8LocalPart?a:o,v=m.split(".");for(let e=0;e<v.length;e++)if(!p.test(v[e]))return!1;return!0}},51609:e=>{"use strict";e.exports=window.React},75795:e=>{"use strict";e.exports=window.ReactDOM},46942:(e,t)=>{var i;!function(){"use strict";var n={}.hasOwnProperty;function l(){for(var e="",t=0;t<arguments.length;t++){var i=arguments[t];i&&(e=r(e,o(i)))}return e}function o(e){if("string"==typeof e||"number"==typeof e)return e;if("object"!=typeof e)return"";if(Array.isArray(e))return l.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var i in e)n.call(e,i)&&e[i]&&(t=r(t,i));return t}function r(e,t){return t?e?e+" "+t:e+t:e}e.exports?(l.default=l,e.exports=l):void 0===(i=function(){return l}.apply(t,[]))||(e.exports=i)}()}},t={};function i(n){var l=t[n];if(void 0!==l)return l.exports;var o=t[n]={exports:{}};return e[n].call(o.exports,o,o.exports,i),o.exports}i.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return i.d(t,{a:t}),t},i.d=(e,t)=>{for(var n in t)i.o(t,n)&&!i.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),i.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var n={};(()=>{"use strict";i.r(n),i.d(n,{PanelRender:()=>Z});var e={};i.r(e),i.d(e,{addNewNotification:()=>p,deleteNotification:()=>v,setNotificationProperties:()=>m,setupStore:()=>f});var t={};i.r(t),i.d(t,{getNotificationProperties:()=>g,getNotifications:()=>y});var l={};i.r(l),i.d(l,{getNotifications:()=>E});const o=window.wp.data,r=window.lodash,a="SETUP_STORE",s="SET_NOTIFICATION_PROPERTIES",c="ADD_NEW_NOTIFICATION",u="DELETE_NOTIFICATION",d={notifications:[]};function f(e){return{type:a,payload:{initialPayload:e}}}const m=(e,t)=>({type:s,payload:{properties:t,id:e}}),p=e=>({type:c,payload:{properties:e}}),v=e=>({type:u,payload:{id:e}});function y(e){return e.notifications}function g(e,t){const i=e.notifications.findIndex((e=>e.id===t));return-1===i?null:e.notifications[i].properties}const _=window.qf.config;var h=i.n(_);const E=()=>f(h().getInitialPayload().notifications),b=((0,o.registerStore)("quillForms/notifications-editor",{reducer:(e=d,t)=>{switch(t.type){case a:{const{initialPayload:i}=t.payload;return{...e,notifications:i}}case s:{const{properties:i,id:n}=t.payload,l=e.notifications.findIndex((e=>e.id===n));if(-1===l)return e;const o=(0,r.reduce)(i,((t,i,n)=>{var o,r;return i!==t[n]&&((t=(o=[...e.notifications][l].properties)===(r=t)?{...o}:r)[n]=i),t}),e.notifications[l].properties);if(o===e.notifications[l].properties)return e;const a=[...e.notifications];return a[l].properties={...o},{...e,notifications:a}}case c:{const{properties:i}=t.payload,n=Math.random().toString(36).substr(2,9),l=[...e.notifications];return l.push({properties:i,id:n}),{...e,notifications:l}}case u:{const{id:i}=t.payload,n=e.notifications.findIndex((e=>e.id===i));if(-1===n)return e;const l=[...e.notifications];return l.splice(n,1),{notifications:l}}}return e},actions:e,resolvers:l,selectors:t}),window.qf.builderPanels);var C=i(51609);const w=window.wp.i18n,k=window.qf.adminComponents,q=window.wp.components;var N=i(46942),x=i.n(N),F=i(66251);const T=window.emotion,O=({children:e,type:t})=>(0,C.createElement)("div",{className:x()("notifications-editor-alert-message-wrapper",`has-${t}`)},e),S=({isRequired:e,value:t,setValue:i,emailFields:n,label:l})=>{t&&t.match(/{{field:([a-zA-Z0-9-_]+)}}/g)||(t=""),t=(t=t.replace("{{field:","")).replace("}}","");const{emailBlockType:r}=(0,o.useSelect)((e=>({emailBlockType:e("quillForms/blocks").getBlockType("email")})));(0,C.useEffect)((()=>{n&&0!==n.length?-1===n.findIndex((e=>e.id===t))&&i(n[0].id):i("")}),[JSON.stringify(n)]);const a=n?.map((e=>({key:e.id,name:(0,C.createElement)("div",{className:"notifications-editor-email-select__option"},(0,C.createElement)(k.BlockIconBox,{icon:r?.icon,color:r?.color}),(0,C.createElement)("span",{className:"notifications-editor-email-select__option-title"},(0,k.getPlainExcerpt)(e.attributes.label)))})));return(0,C.createElement)(C.Fragment,null,0===n.length?(0,C.createElement)(O,{type:e?"error":""},(0,w.__)("To select an email, you should have at least one email question","quillforms")):(0,C.createElement)(k.SelectControl,{className:"notifications-editor-email-select",placeholder:(0,w.__)("Choose Email","quillforms"),value:a.find((e=>e.key===t)),onChange:({selectedItem:e})=>i(e.key),options:a}))},P=window.qf.richText,I=(window.wp.hooks,({isReviewing:e,isValid:t,setIsValid:i,value:n,setValue:l})=>{(0,C.useEffect)((()=>{n&&n.length>0?i(!0):i(!1)}),[n]);const{fields:r,quizMode:a}=(0,o.useSelect)((e=>{const t=e("quillForms/blocks").getBlockTypes();return{fields:e("quillForms/block-editor").getAllBlocks().filter((e=>{const i=t[e.name];return!0===i?.supports?.editable})).map((i=>({type:"field",modifier:i.id,label:(0,k.getPlainExcerpt)(i.attributes.label),icon:t[i.name]?.icon,color:t[i.name]?.color,order:e("quillForms/block-editor").getBlockOrderById(i.id)}))),quizMode:e("quillForms/quiz-editor").getState().enabled}}));let s=[{type:"form",modifier:"all_answers",value:"all_answers",label:(0,w.__)("all_answers","quillforms")}];return a&&(s=[{type:"quiz",label:(0,w.__)("Correct Answers Count","quillforms"),modifier:"correct_answers_count",value:"correct_answers_count",icon:"yes",color:"#4caf50",order:void 0},{type:"quiz",label:(0,w.__)("Incorrect Answers Count","quillforms"),modifier:"incorrect_answers_count",value:"incorrect_answers_count",icon:"no-alt",color:"#f44336",order:void 0},{type:"quiz",label:(0,w.__)("Quiz Summary","quillforms"),modifier:"summary",value:"summary",icon:"editor-table",color:"#4caf50",order:void 0}]),(0,C.createElement)(k.BaseControl,null,(0,C.createElement)(k.ControlWrapper,{orientation:"vertical"},(0,C.createElement)(k.ControlLabel,{label:(0,w.__)("Message","quillforms"),showAsterisk:!0}),(0,C.createElement)(P.FullRichText,{value:n||"<p></p>",onChange:e=>{l(e)},customMergeTags:s})),!t&&e&&(0,C.createElement)(O,{type:"error"},(0,w.__)("This field is required!","quillforms")))}),D=({value:e,setValue:t,isValid:i,setIsValid:n,isReviewing:l})=>((0,C.useEffect)((()=>{e&&e.length>0?n(!0):n(!1)}),[e]),(0,C.createElement)(k.BaseControl,null,(0,C.createElement)(k.ControlWrapper,{orientation:"vertical"},(0,C.createElement)(k.ControlLabel,{label:(0,w.__)("Subject","quillforms"),showAsterisk:!0}),(0,C.createElement)(k.TextControl,{value:e,onChange:e=>t(e)}),!i&&l&&(0,C.createElement)(O,{type:"error"},(0,w.__)("This field is required!","quillforms")))));var B=i(75795);const A=window.wp.primitives,j=(0,C.createElement)(A.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,C.createElement)(A.Path,{d:"M20 11.2H6.8l3.7-3.7-1-1L3.9 12l5.6 5.5 1-1-3.7-3.7H20z"})),R=({goBack:e,notificationId:t,properties:i,validationFlags:n,isReviewing:l,setIsReviewing:r})=>{const{setNotificationProperties:a,addNewNotification:s}=(0,o.useDispatch)("quillForms/notifications-editor"),c=Object.keys(n).filter((e=>!1===n[e])).length>0;return(0,B.createPortal)((0,C.createElement)("div",{className:"notifications-editor-notification-edit__footer"},(0,C.createElement)(k.Button,{isDefault:!0,onClick:()=>{e()}},(0,C.createElement)(q.Icon,{icon:j,className:T.css`
						margin-right: 5px;
					`}),(0,w.__)("Cancel and go back","quillforms")),l&&c?(0,C.createElement)(k.Button,{isDanger:!0},(0,w.__)("Some fields aren't valid","quillforms")," "):(0,C.createElement)(k.Button,{isPrimary:!0,onClick:()=>{c?r(!0):(t?a(t,i):s(i),e())}},t?(0,w.__)("Save changes","quillforms"):(0,w.__)("Add new notification","quillforms"))),document.querySelector(".builder-core-panel"))},L=({value:e,setValue:t})=>(0,C.createElement)("div",{className:"notifications-editor-notification-title"},(0,C.createElement)(k.BaseControl,null,(0,C.createElement)(k.ControlWrapper,null,(0,C.createElement)(k.ControlLabel,{label:(0,w.__)("Title","quillforms")}),(0,C.createElement)(k.TextControl,{value:e,onChange:e=>{t({title:e})}})))),M=({recipients:e,toType:t,setValue:i,isValid:n,setIsValid:l,emailFields:o,isReviewing:a})=>((0,C.useEffect)((()=>{e&&0!==e.length?l(!0):l(!1)}),[e]),(0,C.createElement)(k.BaseControl,null,(0,C.createElement)(k.ControlWrapper,{orientation:"vertical"},(0,C.createElement)(k.ControlLabel,{label:(0,w.__)("Send a notification to","quillforms"),showAsterisk:!0}),(0,C.createElement)(q.RadioControl,{selected:t,options:[{label:(0,w.__)("Email","quillforms"),value:"email"},{label:(0,w.__)("Field","quillforms"),value:"field"}],onChange:e=>{i({toType:e,recipients:[]})}})),"email"===t&&(0,C.createElement)(F.ReactMultiEmail,{placeholder:(0,w.__)("Type an email then hit a space","quillforms"),emails:e?.length>0?e.filter((e=>(0,F.isEmail)(e))):[],onChange:e=>{const t=e.filter((e=>(0,F.isEmail)(e)));i({recipients:(0,r.uniq)(t)})},validateEmail:e=>(0,F.isEmail)(e),getLabel:(e,t,i)=>(0,C.createElement)("div",{"data-tag":!0,key:t},e,(0,C.createElement)("span",{"data-tag-handle":!0,onClick:()=>i(t)},"×"))}),"field"===t&&(0,C.createElement)(S,{isRequired:!0,emailFields:o,value:e&&e[0]&&e[0].length>0?e[0]:"",setValue:e=>{e&&o.some((t=>t.id===e))?i({recipients:[`{{field:${e}}}`]}):i({recipients:[]})}}),!n&&a&&("email"===t||"field"===t&&o.length>0)&&(0,C.createElement)(O,{type:"error"},(0,w.__)("Please insert at least one correct email!","quillforms")))),V=({goBack:e,currentNotificationProperties:t,notificationId:i,activeSlide:n,isActive:l,isAnimating:a})=>{const[s,c]=(0,C.useState)({...t}),[u,d]=(0,C.useState)(!1),[f,m]=(0,C.useState)(!1),[p,v]=(0,C.useState)((0,r.zipObject)((0,r.keys)({...s}),(0,r.keys)({...s}).map((()=>!0))));(0,C.useEffect)((()=>{t&&c({...t}),m(!1),d(1===n)}),[n]);const{active:y,title:g,toType:_,recipients:h,replyToType:E="field",replyTo:b,subject:N,message:O,conditions:P}=s,{emailFields:B}=(0,o.useSelect)((e=>({emailFields:e("quillForms/block-editor").getAllBlocks().filter((e=>"email"===e.name))})));return(0,C.createElement)("div",{className:x()("notifications-editor-notification-editor-wrapper",{active:l,"is-animating":a})},(0,C.createElement)(C.Fragment,null,(0,C.createElement)("h4",{className:"notifications-editor-notification-editor-wrapper__heading"},i?(0,w.__)("Edit Notification","quillforms"):(0,w.__)("Create a new notification","quillforms")),(0,C.createElement)(L,{value:g,setValue:e=>{c((t=>({...t,...e})))}}),(0,C.createElement)(k.BaseControl,null,(0,C.createElement)(k.ControlWrapper,null,(0,C.createElement)(k.ControlLabel,{label:(0,w.__)("Active","quillforms")}),(0,C.createElement)(k.ToggleControl,{checked:y,onChange:()=>{c((e=>({...e,active:!y})))}}))),(0,C.createElement)(M,{emailFields:B,recipients:h,toType:_,isValid:{...p}.recipients,setIsValid:e=>{v((t=>({...t,recipients:e})))},setValue:e=>{c((t=>({...t,...e})))},isReviewing:f}),(0,C.createElement)(k.BaseControl,null,(0,C.createElement)(k.ControlWrapper,{orientation:"vertical"},(0,C.createElement)(k.ControlLabel,{label:(0,w.__)("Reply to","quillforms")}),(0,C.createElement)(q.RadioControl,{selected:E,options:[{label:(0,w.__)("Email","quillforms"),value:"email"},{label:(0,w.__)("Field","quillforms"),value:"field"}],onChange:e=>{c((t=>({...t,replyToType:e})))}})),"email"===E&&(0,C.createElement)("div",{className:T.css`
							${b&&(0,F.isEmail)(b)&&".react-multi-email input { display: none !important;}"}
					   `},(0,C.createElement)(F.ReactMultiEmail,{placeholder:"Enter email",emails:b?[b]:[],enable:()=>({emailCnt:1}),onChange:e=>{e.length>0?c((t=>({...t,replyTo:e[0]}))):c((e=>({...e,replyTo:""})))},validateEmail:e=>!!(0,F.isEmail)(e),getLabel:(e,t,i)=>(0,C.createElement)("div",{"data-tag":!0,key:t},e,(0,C.createElement)("span",{"data-tag-handle":!0,onClick:()=>i(t)},"×"))})),"field"===E&&(0,C.createElement)(S,{emailFields:B,value:b,setValue:e=>c((t=>({...t,replyTo:`{{field:${e}}}`})))})),(0,C.createElement)(D,{value:N,setValue:e=>{c((t=>({...t,subject:e})))},isValid:{...p}.subject,setIsValid:e=>{v((t=>({...t,subject:e})))},isReviewing:f}),u&&(0,C.createElement)(I,{value:O,setValue:e=>{c((t=>({...t,message:e})))},isValid:{...p}.message,setIsValid:e=>{v((t=>({...t,message:e})))},isReviewing:f}),(0,C.createElement)(k.BaseControl,null,(0,C.createElement)(k.ControlWrapper,null,(0,C.createElement)(k.ControlLabel,{label:(0,w.__)("Conditional Logic","quillforms")}),(0,C.createElement)(k.ToggleControl,{checked:!!P,onChange:()=>{c((e=>({...e,conditions:P?void 0:[]})))}})),!!P&&(0,C.createElement)("div",null,(0,C.createElement)("div",null,(0,w.__)("Process this notification if the following conditions are met:","quillforms")),(0,C.createElement)(k.LogicConditions,{value:P,onChange:e=>c((t=>({...t,conditions:e})))}))),l&&(0,C.createElement)(R,{isReviewing:f,setIsReviewing:m,goBack:e,notificationId:i,properties:{...s},validationFlags:{...p}})))},U=window.wp.element,$=(0,U.forwardRef)((function({icon:e,size:t=24,...i},n){return(0,U.cloneElement)(e,{width:t,height:t,...i,ref:n})})),z=(0,C.createElement)(A.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,C.createElement)(A.Path,{d:"m14.5 6.5-1 1 3.7 3.7H4v1.6h13.2l-3.7 3.7 1 1 5.6-5.5z"}));var W=i(23350);const K=({proceed:e,closeModal:t})=>(0,C.createElement)(q.Modal,{className:x()("qf-notification-delete-dialog",T.css`
					border: none !important;
				`),title:(0,w.__)("Delete notification","quillforms"),onRequestClose:t},(0,C.createElement)("div",{className:"notifications-delete-dialog__body"},(0,w.__)("Are you sure you would like to delete this notification?","quillforms")),(0,C.createElement)("div",{className:"notifications-delete-dialog__actions"},(0,C.createElement)(k.Button,{isDefault:!0,onClick:t},(0,w.__)("Cancel","quillforms")),(0,C.createElement)(k.Button,{isDanger:!0,onClick:e},(0,w.__)("Delete","quillforms")))),Q=({notification:e,onEdit:t,index:i})=>{const[n,l]=(0,C.useState)(!1);(0,C.useEffect)((()=>{setTimeout((()=>{l(!0)}),50)}),[]);const{properties:{title:r,active:a},id:s}=e,{setNotificationProperties:c,deleteNotification:u}=(0,o.useDispatch)("quillForms/notifications-editor");return(0,C.createElement)("div",{className:x()("notifications-editor-notification-box",T.css`
					opacity: 0;
					transform: scale(0.6);
					transition: all 0.3s ease;
					transition-delay: ${.05*i}s;

					&.mounted {
						opacity: 1;
						transform: scale(1);
					}
				`,{mounted:n})},(0,C.createElement)("div",{className:"notifications-editor-notification-box__title"},(0,C.createElement)("div",{className:"notifications-editor-notification-box__status"},(0,C.createElement)("label",{className:"toggle-control-wrapper"},(0,C.createElement)(k.ToggleControl,{checked:a,onChange:()=>{c(s,{active:!a})}}))),r||(0,w.__)("Untitled","quillforms")),(0,C.createElement)("div",{className:"notifications-editor-notification-box__actions"},(0,C.createElement)("div",{role:"presentation",className:"notifications-editor-notification-box__actions-edit",onClick:t},(0,w.__)("Edit","quillforms")),(0,C.createElement)("div",{role:"presentation",className:"notifications-editor-notification-box__actions-delete",onClick:()=>{(0,W.ZX)({customUI:({onClose:e})=>(0,C.createElement)(K,{closeModal:e,proceed:()=>{u(s),e()}})})}},(0,w.__)("Delete","quillforms"))))},H=({goNext:e,setCurrentNotificationId:t,isActive:i,isAnimating:n})=>{const[l,r]=(0,C.useState)(!1),a=h().getLicense(),s=h().isWPEnv(),{notifications:c}=(0,o.useSelect)((e=>({notifications:e("quillForms/notifications-editor").getNotifications()})));return(0,C.createElement)("div",{className:x()("notifications-editor-notifciations-list",{active:i,"is-animating":n})},s&&(!qfAdmin.is_quill_smtp_installed||!qfAdmin.is_quill_smtp_active)&&(0,C.createElement)(O,{type:"info"},!qfAdmin.is_quill_smtp_installed&&(0,C.createElement)(C.Fragment,null,(0,w.__)("Email Notifications requires Quill SMTP plugin to be installed and activated. Please install and activate","quillforms")," ",(0,C.createElement)("a",{href:`${qfAdmin.adminUrl}plugin-install.php?s=quillsmtp&tab=search&type=term`,target:"_blank"},(0,w.__)("Quill SMTP","quillforms"))," ",(0,w.__)("plugin to make sure that your email notifications are delivered successfully.","quillforms")),qfAdmin.is_quill_smtp_installed&&!qfAdmin.is_quill_smtp_active&&(0,C.createElement)(C.Fragment,null,(0,w.__)("Email Notifications requires Quill SMTP plugin to be activated. Please activate","quillforms")," ",(0,C.createElement)("a",{href:`${qfAdmin.adminUrl}plugin-install.php?s=quillsmtp&tab=search&type=term`,target:"_blank"},(0,w.__)("Quill SMTP","quillforms"))," ",(0,w.__)("plugin to make sure that your email notifications are delivered successfully.","quillforms"))),(0,C.createElement)("div",{className:"notifications-editor-notifciations-list__header"},(0,C.createElement)("h4",{className:T.css`
						font-size: 15px;
					`},(0,w.__)("Notifications List","quillforms")),(0,C.createElement)(k.Button,{className:T.css`
						border-radius: 8px !important;
						display: inlinep-flex;
						align-items: center;
					`,isPrimary:!0,onClick:()=>{c.length>0&&"valid"!==a?.status&&s?r(!0):(t(null),e())},isLarge:!0},(0,w.__)("Add New Notification","quillforms"),(0,C.createElement)($,{className:T.css`
							fill: #fff;
							margin-left: 5px;
						`,icon:z,size:15}))),(0,C.createElement)(C.Fragment,null,c?.length>0?c.map(((i,n)=>(0,C.createElement)(Q,{index:n,onEdit:()=>{t(i.id),e()},key:i.id,notification:i}))):(0,C.createElement)("div",{className:"notifications-editor-no-notifications-msg"},(0,w.__)("There are no notifications.","quillforms"))),(0,C.createElement)(C.Fragment,null,l&&(0,C.createElement)(q.Modal,{className:x()(T.css`
								border: none !important;
								border-radius: 9px;

								.components-modal__header {
									background: linear-gradient(
										42deg,
										rgb( 235 54 221 ),
										rgb( 238 142 22 )
									);
									h1 {
										color: #fff;
									}
									svg {
										fill: #fff;
									}
								}
								.components-modal__content {
									text-align: center;
								}
							`),title:(0,w.__)("Multiple notifications is a pro feature","quillforms"),onRequestClose:()=>{r(!1)}},(0,C.createElement)(k.__experimentalFeatureAvailability,{featureName:"Multiple notifications",planKey:"basic",showLockIcon:!0}))))};let G;const Z=()=>{const[e,t]=(0,C.useState)(0),[i,n]=(0,C.useState)(!1),l=(0,C.useRef)();(0,C.useEffect)((()=>{l?.current&&setTimeout((()=>{l?.current&&l.current.scrollTo(0,0)}),0)}),[e]),(0,C.useEffect)((()=>(i&&(G=setTimeout((()=>{n(!1)}),600)),()=>clearTimeout(G))),[i,e]);const[r,a]=(0,C.useState)(null),{currentNotificationProperties:s}=(0,o.useSelect)((e=>r?{currentNotificationProperties:e("quillForms/notifications-editor").getNotificationProperties(r)}:{currentNotificationProperties:{title:"",toType:"email",active:!0,recipients:[],replyToType:"field",replyTo:"",subject:"",message:"{{form:all_answers}}"}}));return(0,C.createElement)("div",{className:`notifications-editor-panel-render active-slide-${e}`,ref:l},(0,C.createElement)(H,{isAnimating:i,isActive:0===e,setCurrentNotificationId:a,goNext:()=>{n(!0),setTimeout((()=>{t(1)}),50)}}),(0,C.createElement)(V,{isAnimating:i,isActive:1===e,activeSlide:e,notificationId:r,currentNotificationProperties:{...s},goBack:()=>{n(!0),setTimeout((()=>{t(0)}),50)}}))};(0,b.registerBuilderPanel)("notifications",{title:"Email Notifications",icon:()=>(0,C.createElement)("svg",{viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true",focusable:"false"},(0,C.createElement)("path",{d:"M12 3.5c-3.3 0-5.7 2.4-5.7 5.7v3.8c0 .3-.1.6-.2.8l-1.8 2.5c-.4.6-.4 1.4.1 2 .4.5 1 .7 1.6.7h12c.6 0 1.2-.2 1.6-.7.5-.6.5-1.4.1-2l-1.8-2.5c-.1-.2-.2-.5-.2-.8V9.2c0-3.3-2.4-5.7-5.7-5.7z",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,C.createElement)("path",{d:"M12 3.5V2m0 1.5c-1 0-2 .2-2.8.6",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"}),(0,C.createElement)("path",{d:"M8.5 18.2c.2 1.6 1.6 2.8 3.5 2.8s3.3-1.2 3.5-2.8",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"}),(0,C.createElement)("path",{d:"M19 10c.5-.5 1-1.5 1-2.5M5 10c-.5-.5-1-1.5-1-2.5",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",opacity:"0.6"})),mode:"single",render:Z,position:3,hasIcon:!0})})(),(window.qf=window.qf||{}).notificationsEditor=n})();