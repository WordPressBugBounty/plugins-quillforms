(()=>{var e={2694:(e,t,i)=>{"use strict";var n=i(6925);function o(){}function l(){}l.resetWarningCache=o,e.exports=function(){function e(e,t,i,o,l,r){if(r!==n){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var i={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:l,resetWarningCache:o};return i.PropTypes=i,i}},5556:(e,t,i)=>{e.exports=i(2694)()},6925:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},23350:(e,t,i)=>{"use strict";var n,o,l=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}();t.ZX=function(e){document.body.classList.add("react-confirm-alert-body-element"),function(){if(!document.getElementById("react-confirm-alert-firm-svg")){var e="http://www.w3.org/2000/svg",t=document.createElementNS(e,"feGaussianBlur");t.setAttribute("stdDeviation","0.3");var i=document.createElementNS(e,"filter");i.setAttribute("id","gaussian-blur"),i.appendChild(t);var n=document.createElementNS(e,"svg");n.setAttribute("id","react-confirm-alert-firm-svg"),n.setAttribute("class","react-confirm-alert-svg"),n.appendChild(i),document.body.appendChild(n)}}(),function(e){var t=document.getElementById("react-confirm-alert");t||(document.body.children[0].classList.add("react-confirm-alert-blur"),(t=document.createElement("div")).id="react-confirm-alert",document.body.appendChild(t)),(0,c.render)(s.default.createElement(f,e),t)}(e)};var r=i(51609),s=u(r),a=u(i(5556)),c=i(81824);function u(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var f=(o=n=function(e){function t(){var e,i,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,l=Array(o),r=0;r<o;r++)l[r]=arguments[r];return i=n=d(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.handleClickButton=function(e){e.onClick&&e.onClick(),n.close()},n.handleClickOverlay=function(e){var t=n.props,i=t.closeOnClickOutside,o=t.onClickOutside,l=e.target===n.overlay;i&&l&&(o(),n.close())},n.close=function(){var e,t=n.props.afterClose;document.body.classList.remove("react-confirm-alert-body-element"),(e=document.getElementById("react-confirm-alert"))&&((0,c.unmountComponentAtNode)(e),e.parentNode.removeChild(e)),function(e){var t=document.getElementById("react-confirm-alert-firm-svg");t&&t.parentNode.removeChild(t),document.body.children[0].classList.remove("react-confirm-alert-blur"),e()}(t)},n.keyboardClose=function(e){var t=n.props,i=t.closeOnEscape,o=t.onKeypressEscape,l=t.keyCodeForClose,r=e.keyCode,s=27===r;l.includes(r)&&n.close(),i&&s&&(o(e),n.close())},n.componentDidMount=function(){document.addEventListener("keydown",n.keyboardClose,!1)},n.componentWillUnmount=function(){document.removeEventListener("keydown",n.keyboardClose,!1),n.props.willUnmount()},n.renderCustomUI=function(){var e=n.props,t=e.title,i=e.message,o=e.buttons;return(0,e.customUI)({title:t,message:i,buttons:o,onClose:n.close})},d(n,i)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),l(t,[{key:"render",value:function(){var e=this,t=this.props,i=t.title,n=t.message,o=t.buttons,l=t.childrenElement,r=t.customUI,a=t.overlayClassName;return s.default.createElement("div",{className:"react-confirm-alert-overlay "+a,ref:function(t){return e.overlay=t},onClick:this.handleClickOverlay},s.default.createElement("div",{className:"react-confirm-alert"},r?this.renderCustomUI():s.default.createElement("div",{className:"react-confirm-alert-body"},i&&s.default.createElement("h1",null,i),n,l(),s.default.createElement("div",{className:"react-confirm-alert-button-group"},o.map((function(t,i){return s.default.createElement("button",{key:i,onClick:function(){return e.handleClickButton(t)},className:t.className},t.label)}))))))}}]),t}(r.Component),n.propTypes={title:a.default.string,message:a.default.string,buttons:a.default.array.isRequired,childrenElement:a.default.func,customUI:a.default.func,closeOnClickOutside:a.default.bool,closeOnEscape:a.default.bool,keyCodeForClose:a.default.arrayOf(a.default.number),willUnmount:a.default.func,afterClose:a.default.func,onClickOutside:a.default.func,onKeypressEscape:a.default.func,overlayClassName:a.default.string},n.defaultProps={buttons:[{label:"Cancel",onClick:function(){return null},className:null},{label:"Confirm",onClick:function(){return null},className:null}],childrenElement:function(){return null},closeOnClickOutside:!0,closeOnEscape:!0,keyCodeForClose:[],willUnmount:function(){return null},afterClose:function(){return null},onClickOutside:function(){return null},onKeypressEscape:function(){return null}},o)},18663:function(e,t,i){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,i,n){void 0===n&&(n=i);var o=Object.getOwnPropertyDescriptor(t,i);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[i]}}),Object.defineProperty(e,n,o)}:function(e,t,i,n){void 0===n&&(n=i),e[n]=t[i]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)"default"!==i&&Object.prototype.hasOwnProperty.call(e,i)&&n(t,e,i);return o(t,e),t},r=this&&this.__awaiter||function(e,t,i,n){return new(i||(i=Promise))((function(o,l){function r(e){try{a(n.next(e))}catch(e){l(e)}}function s(e){try{a(n.throw(e))}catch(e){l(e)}}function a(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,s)}a((n=n.apply(e,t||[])).next())}))},s=this&&this.__asyncValues||function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,i=e[Symbol.asyncIterator];return i?i.call(e):(e="function"==typeof __values?__values(e):e[Symbol.iterator](),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(i){t[i]=e[i]&&function(t){return new Promise((function(n,o){!function(e,t,i,n){Promise.resolve(n).then((function(t){e({value:t,done:i})}),t)}(n,o,(t=e[i](t)).done,t.value)}))}}};Object.defineProperty(t,"__esModule",{value:!0}),t.ReactMultiEmail=void 0;const a=l(i(51609)),c=i(54183);t.ReactMultiEmail=function(e){const{id:t,style:i,className:n="",noClass:o,placeholder:l,autoFocus:u,allowDisplayName:d=!1,stripDisplayName:f=!1,allowDuplicate:m=!1,delimiter:p=`[${d?"":" "},;]`,initialInputValue:h="",inputClassName:v,autoComplete:y,getLabel:g,enable:_,onDisabled:x,validateEmail:b,onChange:C,onChangeInput:w,onFocus:j,onBlur:E,onKeyDown:k,onKeyUp:q,spinner:N,disableOnBlurValidation:F=!1,inputValue:T}=e,O=a.useRef(null),[S,P]=a.useState(!1),[I,D]=a.useState([]),[B,A]=a.useState(""),[R,L]=a.useState(!1),M=a.useCallback(((e,t)=>r(this,void 0,void 0,(function*(){var i,n;const o=[];let l="";const r=new RegExp(p,"g"),s=b||c.isEmail,a=e=>{if(!m)for(let t=0,i=I.length;t<i;t++)if(I[t].toLowerCase()===e.toLowerCase())return!1;return o.push(e),!0};if(""!==e)if(r.test(e)){const t=[...new Set(e.split(r).filter((e=>e)))];for(;t.length;){const o=s(""+t[0].trim());"boolean"==typeof o?o?a(""+(null===(i=t.shift())||void 0===i?void 0:i.trim())):d?s(""+t[0].trim(),{allowDisplayName:d})?a(""+(f?null===(n=t.shift())||void 0===n?void 0:n.split("<")[1].split(">")[0]:t.shift())):1===t.length?l=""+t.shift():t.shift():l=""+t.shift():(L(!0),!0===(yield null==b?void 0:b(e))?(a(""+t.shift()),L(!1)):1===t.length?l=""+t.shift():t.shift())}}else{if(_&&!_({emailCnt:I.length}))return void(null==x||x());if(t){const t=s(e);"boolean"==typeof t?t?a(e):d&&s(e,{allowDisplayName:d})?a(f?e.split("<")[1].split(">")[0]:e):l=e:(L(!0),!0===(yield null==b?void 0:b(e))?a(e):l=e,L(!1))}else l=e}D([...I,...o]),A(l),o.length&&(null==C||C([...I,...o])),T!==l&&(null==w||w(l))}))),[d,m,p,I,_,T,C,w,x,f,b]),V=a.useCallback((e=>r(this,void 0,void 0,(function*(){yield M(e)}))),[M]),U=a.useCallback(((e,t)=>{if(t)return;const i=[...I.slice(0,e),...I.slice(e+1)];D(i),null==C||C(i)}),[I,C]),$=a.useCallback((e=>{switch(null==k||k(e),e.key){case"Enter":e.preventDefault();break;case"Backspace":e.currentTarget.value||U(I.length-1,!1)}}),[I.length,k,U]),z=a.useCallback((e=>r(this,void 0,void 0,(function*(){null==q||q(e),"Enter"===e.key&&(yield M(e.currentTarget.value,!0))}))),[M,q]),W=a.useCallback((e=>r(this,void 0,void 0,(function*(){return yield V(e.currentTarget.value)}))),[V]),K=a.useCallback((e=>r(this,void 0,void 0,(function*(){P(!1),F||(yield M(e.currentTarget.value,!0)),null==E||E()}))),[F,M,E]),Q=a.useCallback((()=>{P(!0),null==j||j()}),[j]);return a.useEffect((()=>{A(h)}),[h]),a.useEffect((()=>{A(null!=T?T:"")}),[T]),a.useEffect((()=>{var t;if(b)(()=>{r(this,void 0,void 0,(function*(){var t,i,n,o,l;L(!0);const r=[];try{for(var a,c=!0,u=s(null!==(l=e.emails)&&void 0!==l?l:[]);!(t=(a=yield u.next()).done);){o=a.value,c=!1;try{const e=o;(yield b(e))&&r.push(e)}finally{c=!0}}}catch(e){i={error:e}}finally{try{c||t||!(n=u.return)||(yield n.call(u))}finally{if(i)throw i.error}}D(r),L(!1)}))})();else{const i=null===(t=e.emails)||void 0===t?void 0:t.filter((e=>(0,c.isEmail)(e)));D(null!=i?i:[])}}),[e.emails,b]),a.createElement("div",{className:`${n} ${o?"":"react-multi-email"} ${S?"focused":""} ${""===B&&0===I.length?"empty":"fill"}`,style:i,onClick:()=>{var e;return null===(e=O.current)||void 0===e?void 0:e.focus()}},R&&(null==N?void 0:N()),l?a.createElement("span",{"data-placeholder":!0},l):null,a.createElement("div",{className:"data-labels",style:{opacity:R?.45:1,display:"contents",flexWrap:"inherit"}},I.map(((e,t)=>g(e,t,U)))),a.createElement("input",{id:t,style:{opacity:R?.45:1},ref:O,type:"text",value:B,onFocus:Q,onBlur:K,onChange:W,onKeyDown:$,onKeyUp:z,autoFocus:u,className:v,autoComplete:y}))}},66251:function(e,t,i){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,i,n){void 0===n&&(n=i);var o=Object.getOwnPropertyDescriptor(t,i);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[i]}}),Object.defineProperty(e,n,o)}:function(e,t,i,n){void 0===n&&(n=i),e[n]=t[i]}),o=this&&this.__exportStar||function(e,t){for(var i in e)"default"===i||Object.prototype.hasOwnProperty.call(t,i)||n(t,e,i)};Object.defineProperty(t,"__esModule",{value:!0}),o(i(54183),t),o(i(18663),t)},54183:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isEmail=void 0;const i={requireTld:!0,allowUnderscores:!1,allowTrailingDot:!1},n={allowDisplayName:!1,requireDisplayName:!1,allowUtf8LocalPart:!0,requireTld:!0},o=/^[a-z\d!#\$%&'\*\+\-\/=\?\^_`{\|}~\.\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+[a-z\d!#\$%&'\*\+\-\/=\?\^_`{\|}~\,\.\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF\s]*<(.+)>$/i,l=/^[a-z\d!#\$%&'\*\+\-\/=\?\^_`{\|}~]+$/i,r=/^([\s\x01-\x08\x0b\x0c\x0e-\x1f\x7f\x21\x23-\x5b\x5d-\x7e]|(\\[\x01-\x09\x0b\x0c\x0d-\x7f]))*$/i,s=/^[a-z\d!#\$%&'\*\+\-\/=\?\^_`{\|}~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+$/i,a=/^([\s\x01-\x08\x0b\x0c\x0e-\x1f\x7f\x21\x23-\x5b\x5d-\x7e\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]|(\\[\x01-\x09\x0b\x0c\x0d-\x7f\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))*$/i;function c(e,t){let i,n=0;const o=encodeURI(e).split(/%..|./).length-1;return t&&(n=Number(t.min)||0,i=Number(t.max)),o>=n&&(void 0===i||o<=i)}t.isEmail=function(e,t){if((t=Object.assign(Object.assign({},n),t)).requireDisplayName||t.allowDisplayName){const i=e.match(o);if(i)e=i[1];else if(t.requireDisplayName)return!1}const u=e.split("@"),d=""+u.pop(),f=d.toLowerCase();let m=u.join("@");if("gmail.com"!==f&&"googlemail.com"!==f||(m=m.replace(/\./g,"").toLowerCase()),!c(m,{max:64})||!c(d,{max:254}))return!1;if(!function(e,t){(t=Object.assign(Object.assign({},i),t)).allowTrailingDot&&"."===e[e.length-1]&&(e=e.substring(0,e.length-1));const n=e.split(".");if(t.requireTld){const e=""+n.pop();if(!n.length||!/^([a-z\u00a1-\uffff]{2,}|xn[a-z0-9-]{2,})$/i.test(e))return!1;if(/[\s\u2002-\u200B\u202F\u205F\u3000\uFEFF\uDB40\uDC20]/.test(e))return!1}for(let e,i=0;i<n.length;i++){if(e=n[i],t.allowUnderscores&&(e=e.replace(/_/g,"")),!/^[a-z\u00a1-\uffff0-9-]+$/i.test(e))return!1;if(/[\uff01-\uff5e]/.test(e))return!1;if("-"===e[0]||"-"===e[e.length-1])return!1}return!0}(d,{requireTld:t.requireTld}))return!1;if('"'===m[0])return m=m.slice(1,m.length-1),t.allowUtf8LocalPart?a.test(m):r.test(m);const p=t.allowUtf8LocalPart?s:l,h=m.split(".");for(let e=0;e<h.length;e++)if(!p.test(h[e]))return!1;return!0}},21020:(e,t,i)=>{"use strict";var n=i(51609),o=Symbol.for("react.element"),l=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,s=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,i){var n,l={},c=null,u=null;for(n in void 0!==i&&(c=""+i),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)r.call(t,n)&&!a.hasOwnProperty(n)&&(l[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps)void 0===l[n]&&(l[n]=t[n]);return{$$typeof:o,type:e,key:c,ref:u,props:l,_owner:s.current}}t.Fragment=l,t.jsx=c,t.jsxs=c},74848:(e,t,i)=>{"use strict";e.exports=i(21020)},51609:e=>{"use strict";e.exports=window.React},81824:e=>{"use strict";e.exports=window.ReactDOM},46942:(e,t)=>{var i;!function(){"use strict";var n={}.hasOwnProperty;function o(){for(var e="",t=0;t<arguments.length;t++){var i=arguments[t];i&&(e=r(e,l(i)))}return e}function l(e){if("string"==typeof e||"number"==typeof e)return e;if("object"!=typeof e)return"";if(Array.isArray(e))return o.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var i in e)n.call(e,i)&&e[i]&&(t=r(t,i));return t}function r(e,t){return t?e?e+" "+t:e+t:e}e.exports?(o.default=o,e.exports=o):void 0===(i=function(){return o}.apply(t,[]))||(e.exports=i)}()}},t={};function i(n){var o=t[n];if(void 0!==o)return o.exports;var l=t[n]={exports:{}};return e[n].call(l.exports,l,l.exports,i),l.exports}i.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return i.d(t,{a:t}),t},i.d=(e,t)=>{for(var n in t)i.o(t,n)&&!i.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),i.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var n={};(()=>{"use strict";i.r(n),i.d(n,{PanelRender:()=>X});var e={};i.r(e),i.d(e,{addNewNotification:()=>p,deleteNotification:()=>h,setNotificationProperties:()=>m,setupStore:()=>f});var t={};i.r(t),i.d(t,{getNotificationProperties:()=>y,getNotifications:()=>v});var o={};i.r(o),i.d(o,{getNotifications:()=>x});const l=window.wp.data,r=window.lodash,s="SETUP_STORE",a="SET_NOTIFICATION_PROPERTIES",c="ADD_NEW_NOTIFICATION",u="DELETE_NOTIFICATION",d={notifications:[]};function f(e){return{type:s,payload:{initialPayload:e}}}const m=(e,t)=>({type:a,payload:{properties:t,id:e}}),p=e=>({type:c,payload:{properties:e}}),h=e=>({type:u,payload:{id:e}});function v(e){return e.notifications}function y(e,t){const i=e.notifications.findIndex((e=>e.id===t));return-1===i?null:e.notifications[i].properties}const g=window.qf.config;var _=i.n(g);const x=()=>f(_().getInitialPayload().notifications),b=((0,l.registerStore)("quillForms/notifications-editor",{reducer:(e=d,t)=>{switch(t.type){case s:{const{initialPayload:i}=t.payload;return{...e,notifications:i}}case a:{const{properties:i,id:n}=t.payload,o=e.notifications.findIndex((e=>e.id===n));if(-1===o)return e;const l=(0,r.reduce)(i,((t,i,n)=>{var l,r;return i!==t[n]&&((t=(l=[...e.notifications][o].properties)===(r=t)?{...l}:r)[n]=i),t}),e.notifications[o].properties);if(l===e.notifications[o].properties)return e;const s=[...e.notifications];return s[o].properties={...l},{...e,notifications:s}}case c:{const{properties:i}=t.payload,n=Math.random().toString(36).substr(2,9),o=[...e.notifications];return o.push({properties:i,id:n}),{...e,notifications:o}}case u:{const{id:i}=t.payload,n=e.notifications.findIndex((e=>e.id===i));if(-1===n)return e;const o=[...e.notifications];return o.splice(n,1),{notifications:o}}}return e},actions:e,resolvers:o,selectors:t}),window.qf.builderPanels);var C=i(51609);const w=window.wp.i18n,j=window.qf.adminComponents,E=window.wp.components;var k=i(46942),q=i.n(k),N=i(66251);const F=window.emotion;var T=i(74848);const O=({children:e,type:t})=>(0,T.jsx)("div",{className:q()("notifications-editor-alert-message-wrapper",`has-${t}`),children:e}),S=({isRequired:e,value:t,setValue:i,emailFields:n,label:o})=>{t&&t.match(/{{field:([a-zA-Z0-9-_]+)}}/g)||(t=""),t=(t=t.replace("{{field:","")).replace("}}","");const{emailBlockType:r}=(0,l.useSelect)((e=>({emailBlockType:e("quillForms/blocks").getBlockType("email")})));(0,C.useEffect)((()=>{n&&0!==n.length?-1===n.findIndex((e=>e.id===t))&&i(n[0].id):i("")}),[JSON.stringify(n)]);const s=n?.map((e=>({key:e.id,name:(0,T.jsxs)("div",{className:"notifications-editor-email-select__option",children:[(0,T.jsx)(j.BlockIconBox,{icon:r?.icon,color:r?.color}),(0,T.jsx)("span",{className:"notifications-editor-email-select__option-title",children:(0,j.getPlainExcerpt)(e.attributes.label)})]})})));return(0,T.jsx)(T.Fragment,{children:0===n.length?(0,T.jsx)(O,{type:e?"error":"",children:(0,w.__)("To select an email, you should have at least one email question","quillforms")}):(0,T.jsx)(j.SelectControl,{className:"notifications-editor-email-select",placeholder:(0,w.__)("Choose Email","quillforms"),value:s.find((e=>e.key===t)),onChange:({selectedItem:e})=>i(e.key),options:s})})},P=window.qf.richText,I=(window.wp.hooks,({isReviewing:e,isValid:t,setIsValid:i,value:n,setValue:o})=>{(0,C.useEffect)((()=>{n&&n.length>0?i(!0):i(!1)}),[n]);const{fields:r,quizMode:s}=(0,l.useSelect)((e=>{const t=e("quillForms/blocks").getBlockTypes();return{fields:e("quillForms/block-editor").getAllBlocks().filter((e=>{const i=t[e.name];return!0===i?.supports?.editable})).map((i=>({type:"field",modifier:i.id,label:(0,j.getPlainExcerpt)(i.attributes.label),icon:t[i.name]?.icon,color:t[i.name]?.color,order:e("quillForms/block-editor").getBlockOrderById(i.id)}))),quizMode:e("quillForms/quiz-editor").getState().enabled}}));let a=[{type:"form",modifier:"all_answers",value:"all_answers",label:(0,w.__)("all_answers","quillforms")}];return s&&(a=[{type:"quiz",label:(0,w.__)("Correct Answers Count","quillforms"),modifier:"correct_answers_count",value:"correct_answers_count",icon:"yes",color:"#4caf50",order:void 0},{type:"quiz",label:(0,w.__)("Incorrect Answers Count","quillforms"),modifier:"incorrect_answers_count",value:"incorrect_answers_count",icon:"no-alt",color:"#f44336",order:void 0},{type:"quiz",label:(0,w.__)("Quiz Summary","quillforms"),modifier:"summary",value:"summary",icon:"editor-table",color:"#4caf50",order:void 0}]),(0,T.jsxs)(j.BaseControl,{children:[(0,T.jsxs)(j.ControlWrapper,{orientation:"vertical",children:[(0,T.jsx)(j.ControlLabel,{label:(0,w.__)("Message","quillforms"),showAsterisk:!0}),(0,T.jsx)(P.FullRichText,{value:n||"<p></p>",onChange:e=>{o(e)},customMergeTags:a})]}),!t&&e&&(0,T.jsx)(O,{type:"error",children:(0,w.__)("This field is required!","quillforms")})]})}),D=({value:e,setValue:t,isValid:i,setIsValid:n,isReviewing:o})=>((0,C.useEffect)((()=>{e&&e.length>0?n(!0):n(!1)}),[e]),(0,T.jsx)(j.BaseControl,{children:(0,T.jsxs)(j.ControlWrapper,{orientation:"vertical",children:[(0,T.jsx)(j.ControlLabel,{label:(0,w.__)("Subject","quillforms"),showAsterisk:!0}),(0,T.jsx)(j.TextControl,{value:e,onChange:e=>t(e),withMergeTags:!0}),!i&&o&&(0,T.jsx)(O,{type:"error",children:(0,w.__)("This field is required!","quillforms")})]})}));var B=i(81824);const A=window.wp.primitives,R=(0,C.createElement)(A.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,C.createElement)(A.Path,{d:"M20 11.2H6.8l3.7-3.7-1-1L3.9 12l5.6 5.5 1-1-3.7-3.7H20z"})),L=({goBack:e,notificationId:t,properties:i,validationFlags:n,isReviewing:o,setIsReviewing:r})=>{const{setNotificationProperties:s,addNewNotification:a}=(0,l.useDispatch)("quillForms/notifications-editor"),c=Object.keys(n).filter((e=>!1===n[e])).length>0;return(0,B.createPortal)((0,T.jsxs)("div",{className:"notifications-editor-notification-edit__footer",children:[(0,T.jsxs)(j.Button,{isDefault:!0,onClick:()=>{e()},children:[(0,T.jsx)(E.Icon,{icon:R,className:F.css`
						margin-right: 5px;
					`}),(0,w.__)("Cancel and go back","quillforms")]}),o&&c?(0,T.jsxs)(j.Button,{isDanger:!0,children:[(0,w.__)("Some fields aren't valid","quillforms")," "]}):(0,T.jsx)(j.Button,{isPrimary:!0,onClick:()=>{c?r(!0):(t?s(t,i):a(i),e())},children:t?(0,w.__)("Save changes","quillforms"):(0,w.__)("Add new notification","quillforms")})]}),document.querySelector(".builder-core-panel"))},M=({value:e,setValue:t})=>(0,T.jsx)("div",{className:"notifications-editor-notification-title",children:(0,T.jsx)(j.BaseControl,{children:(0,T.jsxs)(j.ControlWrapper,{children:[(0,T.jsx)(j.ControlLabel,{label:(0,w.__)("Title","quillforms")}),(0,T.jsx)(j.TextControl,{value:e,onChange:e=>{t({title:e})}})]})})}),V=({recipients:e,toType:t,setValue:i,isValid:n,setIsValid:o,emailFields:l,isReviewing:s})=>((0,C.useEffect)((()=>{e&&0!==e.length?o(!0):o(!1)}),[e]),(0,T.jsxs)(j.BaseControl,{children:[(0,T.jsxs)(j.ControlWrapper,{orientation:"vertical",children:[(0,T.jsx)(j.ControlLabel,{label:(0,w.__)("Send a notification to","quillforms"),showAsterisk:!0}),(0,T.jsx)(E.RadioControl,{selected:t,options:[{label:(0,w.__)("Email","quillforms"),value:"email"},{label:(0,w.__)("Field","quillforms"),value:"field"}],onChange:e=>{i({toType:e,recipients:[]})}})]}),"email"===t&&(0,T.jsx)(N.ReactMultiEmail,{placeholder:(0,w.__)("Type an email then hit a space","quillforms"),emails:e?.length>0?e.filter((e=>(0,N.isEmail)(e))):[],onChange:e=>{const t=e.filter((e=>(0,N.isEmail)(e)));i({recipients:(0,r.uniq)(t)})},validateEmail:e=>(0,N.isEmail)(e),getLabel:(e,t,i)=>(0,T.jsxs)("div",{"data-tag":!0,children:[e,(0,T.jsx)("span",{"data-tag-handle":!0,onClick:()=>i(t),children:"×"})]},t)}),"field"===t&&(0,T.jsx)(S,{isRequired:!0,emailFields:l,value:e&&e[0]&&e[0].length>0?e[0]:"",setValue:e=>{e&&l.some((t=>t.id===e))?i({recipients:[`{{field:${e}}}`]}):i({recipients:[]})}}),!n&&s&&("email"===t||"field"===t&&l.length>0)&&(0,T.jsx)(O,{type:"error",children:(0,w.__)("Please insert at least one correct email!","quillforms")})]})),U=({goBack:e,currentNotificationProperties:t,notificationId:i,activeSlide:n,isActive:o,isAnimating:s})=>{const[a,c]=(0,C.useState)({...t}),[u,d]=(0,C.useState)(!1),[f,m]=(0,C.useState)(!1),[p,h]=(0,C.useState)((0,r.zipObject)((0,r.keys)({...a}),(0,r.keys)({...a}).map((()=>!0))));(0,C.useEffect)((()=>{t&&c({...t}),m(!1),d(1===n)}),[n]);const{active:v,title:y,toType:g,recipients:_,replyToType:x="field",replyTo:b,subject:k,message:O,conditions:P}=a,{emailFields:B}=(0,l.useSelect)((e=>({emailFields:e("quillForms/block-editor").getAllBlocks().filter((e=>"email"===e.name))})));return(0,T.jsx)("div",{className:q()("notifications-editor-notification-editor-wrapper",{active:o,"is-animating":s}),children:(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)("h4",{className:"notifications-editor-notification-editor-wrapper__heading",children:i?(0,w.__)("Edit Notification","quillforms"):(0,w.__)("Create a new notification","quillforms")}),(0,T.jsx)(M,{value:y,setValue:e=>{c((t=>({...t,...e})))}}),(0,T.jsx)(j.BaseControl,{children:(0,T.jsxs)(j.ControlWrapper,{children:[(0,T.jsx)(j.ControlLabel,{label:(0,w.__)("Active","quillforms")}),(0,T.jsx)(j.ToggleControl,{checked:v,onChange:()=>{c((e=>({...e,active:!v})))}})]})}),(0,T.jsx)(V,{emailFields:B,recipients:_,toType:g,isValid:{...p}.recipients,setIsValid:e=>{h((t=>({...t,recipients:e})))},setValue:e=>{c((t=>({...t,...e})))},isReviewing:f}),(0,T.jsxs)(j.BaseControl,{children:[(0,T.jsxs)(j.ControlWrapper,{orientation:"vertical",children:[(0,T.jsx)(j.ControlLabel,{label:(0,w.__)("Reply to","quillforms")}),(0,T.jsx)(E.RadioControl,{selected:x,options:[{label:(0,w.__)("Email","quillforms"),value:"email"},{label:(0,w.__)("Field","quillforms"),value:"field"}],onChange:e=>{c((t=>({...t,replyToType:e})))}})]}),"email"===x&&(0,T.jsx)("div",{className:F.css`
							${b&&(0,N.isEmail)(b)&&".react-multi-email input { display: none !important;}"}
					   `,children:(0,T.jsx)(N.ReactMultiEmail,{placeholder:"Enter email",emails:b?[b]:[],enable:()=>({emailCnt:1}),onChange:e=>{e.length>0?c((t=>({...t,replyTo:e[0]}))):c((e=>({...e,replyTo:""})))},validateEmail:e=>!!(0,N.isEmail)(e),getLabel:(e,t,i)=>(0,T.jsxs)("div",{"data-tag":!0,children:[e,(0,T.jsx)("span",{"data-tag-handle":!0,onClick:()=>i(t),children:"×"})]},t)})}),"field"===x&&(0,T.jsx)(S,{emailFields:B,value:b,setValue:e=>c((t=>({...t,replyTo:`{{field:${e}}}`})))})]}),(0,T.jsx)(D,{value:k,setValue:e=>{c((t=>({...t,subject:e})))},isValid:{...p}.subject,setIsValid:e=>{h((t=>({...t,subject:e})))},isReviewing:f}),u&&(0,T.jsx)(I,{value:O,setValue:e=>{c((t=>({...t,message:e})))},isValid:{...p}.message,setIsValid:e=>{h((t=>({...t,message:e})))},isReviewing:f}),(0,T.jsxs)(j.BaseControl,{children:[(0,T.jsxs)(j.ControlWrapper,{children:[(0,T.jsx)(j.ControlLabel,{label:(0,w.__)("Conditional Logic","quillforms")}),(0,T.jsx)(j.ToggleControl,{checked:!!P,onChange:()=>{c((e=>({...e,conditions:P?void 0:[]})))}})]}),!!P&&(0,T.jsxs)("div",{children:[(0,T.jsx)("div",{children:(0,w.__)("Process this notification if the following conditions are met:","quillforms")}),(0,T.jsx)(j.LogicConditions,{value:P,onChange:e=>c((t=>({...t,conditions:e})))})]})]}),o&&(0,T.jsx)(L,{isReviewing:f,setIsReviewing:m,goBack:e,notificationId:i,properties:{...a},validationFlags:{...p}})]})})},$=window.wp.element,z=(0,$.forwardRef)((function({icon:e,size:t=24,...i},n){return(0,$.cloneElement)(e,{width:t,height:t,...i,ref:n})})),W=(0,C.createElement)(A.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,C.createElement)(A.Path,{d:"m14.5 6.5-1 1 3.7 3.7H4v1.6h13.2l-3.7 3.7 1 1 5.6-5.5z"}));var K=i(23350);const Q=({proceed:e,closeModal:t})=>(0,T.jsxs)(E.Modal,{className:q()("qf-notification-delete-dialog",F.css`
					border: none !important;
				`),title:(0,w.__)("Delete notification","quillforms"),onRequestClose:t,children:[(0,T.jsx)("div",{className:"notifications-delete-dialog__body",children:(0,w.__)("Are you sure you would like to delete this notification?","quillforms")}),(0,T.jsxs)("div",{className:"notifications-delete-dialog__actions",children:[(0,T.jsx)(j.Button,{isDefault:!0,onClick:t,children:(0,w.__)("Cancel","quillforms")}),(0,T.jsx)(j.Button,{isDanger:!0,onClick:e,children:(0,w.__)("Delete","quillforms")})]})]}),H=({notification:e,onEdit:t,index:i})=>{const[n,o]=(0,C.useState)(!1);(0,C.useEffect)((()=>{setTimeout((()=>{o(!0)}),50)}),[]);const{properties:{title:r,active:s},id:a}=e,{setNotificationProperties:c,deleteNotification:u}=(0,l.useDispatch)("quillForms/notifications-editor");return(0,T.jsxs)("div",{className:q()("notifications-editor-notification-box",F.css`
					opacity: 0;
					transform: scale(0.6);
					transition: all 0.3s ease;
					transition-delay: ${.05*i}s;

					&.mounted {
						opacity: 1;
						transform: scale(1);
					}
				`,{mounted:n}),children:[(0,T.jsxs)("div",{className:"notifications-editor-notification-box__title",children:[(0,T.jsx)("div",{className:"notifications-editor-notification-box__status",children:(0,T.jsx)("label",{className:"toggle-control-wrapper",children:(0,T.jsx)(j.ToggleControl,{checked:s,onChange:()=>{c(a,{active:!s})}})})}),r||(0,w.__)("Untitled","quillforms")]}),(0,T.jsxs)("div",{className:"notifications-editor-notification-box__actions",children:[(0,T.jsx)("div",{role:"presentation",className:"notifications-editor-notification-box__actions-edit",onClick:t,children:(0,w.__)("Edit","quillforms")}),(0,T.jsx)("div",{role:"presentation",className:"notifications-editor-notification-box__actions-delete",onClick:()=>{(0,K.ZX)({customUI:({onClose:e})=>(0,T.jsx)(Q,{closeModal:e,proceed:()=>{u(a),e()}})})},children:(0,w.__)("Delete","quillforms")})]})]})},G=({goNext:e,setCurrentNotificationId:t,isActive:i,isAnimating:n})=>{const[o,r]=(0,C.useState)(!1),s=_().getLicense(),a=_().isWPEnv(),{notifications:c}=(0,l.useSelect)((e=>({notifications:e("quillForms/notifications-editor").getNotifications()})));return(0,T.jsxs)("div",{className:q()("notifications-editor-notifciations-list",{active:i,"is-animating":n}),children:[a&&(!qfAdmin.is_quill_smtp_installed||!qfAdmin.is_quill_smtp_active)&&(0,T.jsxs)(O,{type:"info",children:[!qfAdmin.is_quill_smtp_installed&&(0,T.jsxs)(T.Fragment,{children:[(0,w.__)("Email Notifications requires Quill SMTP plugin to be installed and activated. Please install and activate","quillforms")," ",(0,T.jsx)("a",{href:`${qfAdmin.adminUrl}plugin-install.php?s=quillsmtp&tab=search&type=term`,target:"_blank",children:(0,w.__)("Quill SMTP","quillforms")})," ",(0,w.__)("plugin to make sure that your email notifications are delivered successfully.","quillforms")]}),qfAdmin.is_quill_smtp_installed&&!qfAdmin.is_quill_smtp_active&&(0,T.jsxs)(T.Fragment,{children:[(0,w.__)("Email Notifications requires Quill SMTP plugin to be activated. Please activate","quillforms")," ",(0,T.jsx)("a",{href:`${qfAdmin.adminUrl}plugin-install.php?s=quillsmtp&tab=search&type=term`,target:"_blank",children:(0,w.__)("Quill SMTP","quillforms")})," ",(0,w.__)("plugin to make sure that your email notifications are delivered successfully.","quillforms")]})]}),(0,T.jsxs)("div",{className:"notifications-editor-notifciations-list__header",children:[(0,T.jsx)("h4",{className:F.css`
						font-size: 15px;
					`,children:(0,w.__)("Notifications List","quillforms")}),(0,T.jsxs)(j.Button,{className:F.css`
						border-radius: 8px !important;
						display: inlinep-flex;
						align-items: center;
					`,isPrimary:!0,onClick:()=>{c.length>0&&"valid"!==s?.status&&a?r(!0):(t(null),e())},isLarge:!0,children:[(0,w.__)("Add New Notification","quillforms"),(0,T.jsx)(z,{className:F.css`
							fill: #fff;
							margin-left: 5px;
						`,icon:W,size:15})]})]}),(0,T.jsx)(T.Fragment,{children:c?.length>0?c.map(((i,n)=>(0,T.jsx)(H,{index:n,onEdit:()=>{t(i.id),e()},notification:i},i.id))):(0,T.jsx)("div",{className:"notifications-editor-no-notifications-msg",children:(0,w.__)("There are no notifications.","quillforms")})}),(0,T.jsx)(T.Fragment,{children:o&&(0,T.jsx)(E.Modal,{className:q()(F.css`
								border: none !important;
								border-radius: 9px;

								.components-modal__header {
									background: linear-gradient(
										42deg,
										rgb( 235 54 221 ),
										rgb( 238 142 22 )
									);
									h1 {
										color: #fff;
									}
									svg {
										fill: #fff;
									}
								}
								.components-modal__content {
									text-align: center;
								}
							`),title:(0,w.__)("Multiple notifications is a pro feature","quillforms"),onRequestClose:()=>{r(!1)},children:(0,T.jsx)(j.__experimentalFeatureAvailability,{featureName:"Multiple notifications",planKey:"basic",showLockIcon:!0})})})]})};let Z;const X=()=>{const[e,t]=(0,C.useState)(0),[i,n]=(0,C.useState)(!1),o=(0,C.useRef)();(0,C.useEffect)((()=>{o?.current&&setTimeout((()=>{o?.current&&o.current.scrollTo(0,0)}),0)}),[e]),(0,C.useEffect)((()=>(i&&(Z=setTimeout((()=>{n(!1)}),600)),()=>clearTimeout(Z))),[i,e]);const[r,s]=(0,C.useState)(null),{currentNotificationProperties:a}=(0,l.useSelect)((e=>r?{currentNotificationProperties:e("quillForms/notifications-editor").getNotificationProperties(r)}:{currentNotificationProperties:{title:"",toType:"email",active:!0,recipients:[],replyToType:"field",replyTo:"",subject:"",message:"{{form:all_answers}}"}}));return(0,T.jsxs)("div",{className:`notifications-editor-panel-render active-slide-${e}`,ref:o,children:[(0,T.jsx)(G,{isAnimating:i,isActive:0===e,setCurrentNotificationId:s,goNext:()=>{n(!0),setTimeout((()=>{t(1)}),50)}}),(0,T.jsx)(U,{isAnimating:i,isActive:1===e,activeSlide:e,notificationId:r,currentNotificationProperties:{...a},goBack:()=>{n(!0),setTimeout((()=>{t(0)}),50)}})]})};(0,b.registerBuilderPanel)("notifications",{title:"Email Notifications",icon:()=>(0,T.jsxs)("svg",{viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true",focusable:"false",children:[(0,T.jsx)("path",{d:"M12 3.5c-3.3 0-5.7 2.4-5.7 5.7v3.8c0 .3-.1.6-.2.8l-1.8 2.5c-.4.6-.4 1.4.1 2 .4.5 1 .7 1.6.7h12c.6 0 1.2-.2 1.6-.7.5-.6.5-1.4.1-2l-1.8-2.5c-.1-.2-.2-.5-.2-.8V9.2c0-3.3-2.4-5.7-5.7-5.7z",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,T.jsx)("path",{d:"M12 3.5V2m0 1.5c-1 0-2 .2-2.8.6",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"}),(0,T.jsx)("path",{d:"M8.5 18.2c.2 1.6 1.6 2.8 3.5 2.8s3.3-1.2 3.5-2.8",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"}),(0,T.jsx)("path",{d:"M19 10c.5-.5 1-1.5 1-2.5M5 10c-.5-.5-1-1.5-1-2.5",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",opacity:"0.6"})]}),mode:"single",render:X,position:3,hasIcon:!0})})(),(window.qf=window.qf||{}).notificationsEditor=n})();